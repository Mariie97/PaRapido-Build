(this["webpackJsonpparapido-gui"]=this["webpackJsonpparapido-gui"]||[]).push([[0],{335:function(e,t,s){},336:function(e,t,s){},337:function(e,t,s){},338:function(e,t,s){},339:function(e,t,s){},340:function(e,t,s){},341:function(e,t,s){},342:function(e,t,s){},343:function(e,t,s){},344:function(e,t,s){},345:function(e,t,s){},346:function(e,t,s){},347:function(e,t,s){},348:function(e,t,s){},349:function(e,t,s){},350:function(e,t,s){},351:function(e,t,s){},352:function(e,t,s){},353:function(e,t,s){},354:function(e,t,s){},355:function(e,t,s){},356:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s.n(a),r=s(22),n=s.n(r),o=s(46),c=s(15),l=s(16),d=s(18),u=s(17),h=s(19),b=s(32),j=s(420),m=s(8);function p(e){return void 0!==e&&fetch("/api/is_valid_token",{method:"GET",credentials:"same-origin",headers:{"X-CSRF-TOKEN":e}}).then((function(e){return 200===e.status}))}function g(e,t,s){return fetch("/api/job_status/".concat(t),{method:"PUT",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e},body:JSON.stringify({status:s})}).then((function(e){return 200===e.status}))}var v=["Adjuntas","Aguada","Aguadilla","Aguas Buenas","Aibonito","Arecibo","Arroyo","A\xf1asco","Barceloneta","Barranquitas","Bayam\xf3n","Cabo Rojo","Caguas","Camuy","Can\xf3vanas","Carolina","Cata\xf1o","Cayey","Ceiba","Ciales","Cidra","Coamo","Comer\xedo","Corozal","Culebra","Dorado","Fajardo","Florida","Guayama","Guayanilla","Guaynabo","Gurabo","Gu\xe1nica","Hatillo","Hormigueros","Humacao","Isabela","Jayuya","Juana D\xedaz","Juncos","Lajas","Lares","Las Mar\xedas","Las Piedras","Loiza","Luquillo","Manat\xed","Maricao","Maunabo","Mayag\xfcez","Moca","Morovis","Naguabo","Naranjito","Orocovis","Patillas","Pe\xf1uelas","Ponce","Quebradillas","Rinc\xf3n","Rio Grande","Sabana Grande","Salinas","San Germ\xe1n","San Juan","San Lorenzo","San Sebasti\xe1n","Santa Isabel","Toa Alta","Toa Baja","Trujillo Alto","Utuado","Vega Alta","Vega Baja","Vieques","Villalba","Yabucoa","Yauco"],O=1,f=2,y=3,x=4,w=5;function N(e){return new URLSearchParams(e)}var _=["Posted","In process","Completed","Cancelled","Deleted"],k=["In what city were you born?","What high school did you attend?","What was your favorite food as a child?"],C=1,S=2,A=3,E=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],T=["Animals","Auto","Education","Events","Home","Self-care","Shop","Other"],q=["Less than $20.00","$20.00 to $40.00","$50.00 to $60.00","$70.00 to $100.00","More than $100.00"],P=["2021","2022","2023","2024","2025","2026","2027","2028"],F=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["1","2","3","4","5"],R=/^00[679]\d{2}$/,I={1:"Student",2:"Client",3:"Admin"},D=s(20),U=s(104),M=s.n(U),J=s(138),z=s(404),B=s(102),G=s.n(B),Z=s(358),H=s(1),Q=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=this.props,t=e.errorMsg,s=e.labelText,a=e.required,i=e.multiline,r=e.blackLabel,n=e.loginmodallabel,c=e.cormorantlabel;return Object(H.jsxs)("div",{className:"input-field-container",children:[Object(H.jsxs)("label",{className:"custom-input-label ".concat(void 0!==r&&"black-label-text"," ").concat(void 0!==n&&"login-modal-label-text","\n                ").concat(void 0!==c&&"cormorant-label-text"),children:[s,a&&"*"]}),Object(H.jsx)("br",{}),i?Object(H.jsx)(Z.a,Object(o.a)({className:void 0!==t?"custom-input-multiline input-error":"custom-input-multiline"},this.props)):Object(H.jsx)(z.a,Object(o.a)({variant:"filled",InputProps:{disableUnderline:!0}},this.props)),void 0!==t&&Object(H.jsxs)("div",{className:"required-field-error-msg",children:[Object(H.jsx)(G.a,{style:X}),t]})]})}}]),s}(a.Component),X={color:"red",position:"relative",top:"4px"},K=Q,W=s(421),Y=s(114),V=s(200),$=s(195),ee=s.p+"static/media/ContinueArrow.8173f5e6.png",te=s.p+"static/media/BackgroundPaRapidoLogo.6340b18d.png",se={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"3px solid black",boxShadow:24,p:4},ae=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={email:"",password:"",login_success:!1,login_failed:!1,emailError:void 0,passwordError:void 0,loginError:void 0,redirectAdminLogin:!1},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleOnClick=a.handleOnClick.bind(Object(m.a)(a)),a.validateEmail=a.validateEmail.bind(Object(m.a)(a)),a.validatePassword=a.validatePassword.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"handleOnClick",value:function(){var e=Object(J.a)(M.a.mark((function e(){var t,s,a,i,r,n=this;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,s=t.email,a=t.password,i=this.props.adminLogin,r=void 0===i?"":"?admin=true",e.next=5,fetch("/api/login".concat(r),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:a})}).then((function(e){200===e.status?e.json().then((function(e){localStorage.setItem("user_id",e.user_id),localStorage.setItem("type",e.type),n.setState({login_success:!0,login_failed:!1})})):n.setState({loginError:401===e.status?"Yikes!!! \ud83d\ude2c Incorrect Email or Password":Object(H.jsxs)("div",{children:["Sorry can not login right now \ud83d\ude14",Object(H.jsx)("br",{}),"Please try again later!!!"]}),login_success:!1,login_failed:!0})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,s=t.name,a=t.value;this.setState(Object(D.a)({},s,a))}},{key:"render",value:function(){var e=this.props,t=e.isOpen,s=e.toggle,a=e.adminLogin,i=this.state,r=i.login_success,n=i.loginError,o=i.emailError,c=i.passwordError,l=i.redirectAdminLogin,d=void 0===a?"/jobdashboard":"/admin/site";return Object(H.jsxs)(Y.b,{injectFirst:!0,children:[r&&Object(H.jsx)(b.a,{to:d}),Object(H.jsx)(V.a,{open:t,onClose:s,style:{textAlign:"center"},children:Object(H.jsxs)($.a,{sx:se,children:[void 0!==n&&Object(H.jsx)("div",{children:Object(H.jsxs)(W.a,{style:{marginBottom:40,display:"flex",justifyContent:"center"},variant:"outlined",severity:"error",children:[n,l&&Object(H.jsx)(h.b,{to:"/administration_login",children:"click here"})]})}),Object(H.jsx)("img",{src:te,alt:"login logo",style:ie}),Object(H.jsx)("div",{className:"first-point-login-modal",children:" Hey! Good to see you again!"}),Object(H.jsxs)("div",{className:"second-point-login-modal",children:[Object(H.jsxs)("div",{className:"first-text-login-modal",children:["Log in to ",void 0===a?"have":"administrate"]}),Object(H.jsxs)("div",{className:"second-text-login-modal",children:["  ",void 0===a?"FUN.":""," "]})]}),Object(H.jsxs)("div",{className:"body-container-login-modal",children:[Object(H.jsx)(K,{required:!0,loginmodallabel:!0,labelText:"Enter E-mail",className:"input-login-modal",id:"email",name:"email",placeholder:"Email",onChange:this.handleChange,onBlur:this.validateEmail,error:void 0!==o,errorMsg:o,style:{border:void 0===o?"1px solid black":"1px solid #cc3300"}}),Object(H.jsx)(K,{required:!0,loginmodallabel:!0,labelText:"Enter Password",className:"input-login-modal",id:"password",name:"password",type:"password",placeholder:"password",onChange:this.handleChange,onBlur:this.validatePassword,error:void 0!==c,errorMsg:c,style:{border:void 0===c?"1px solid black":"1px solid #cc3300"}}),Object(H.jsxs)("button",{onClick:this.handleOnClick,className:"login-modal-continue-button",children:[Object(H.jsx)("div",{className:"text-button-login-modal",children:"CONTINUE"}),Object(H.jsx)("img",{style:re,src:ee,alt:"continue arrow"})]})]}),Object(H.jsx)("hr",{className:"line-login-modal"}),Object(H.jsxs)("ul",{className:"footer-flex-login-modal",children:[void 0===a&&Object(H.jsx)(h.b,{to:"/signup",style:{color:"blue"},children:" Create an Account? "}),Object(H.jsx)(h.b,{to:"/security-questions",style:{color:"blue"},children:" Forgot Password? "})]})]})})]})}},{key:"validateEmail",value:function(){return 0===this.state.email.length?(this.setState({emailError:"This field is required"}),!1):/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}$/.test(this.state.email)?(this.setState({emailError:void 0}),!0):(this.setState({emailError:"Invalid email format: @..."}),!1)}},{key:"validatePassword",value:function(){return 0===this.state.password.length?(this.setState({passwordError:"This field is required"}),!1):(this.setState({passwordError:void 0}),!0)}}]),s}(a.Component),ie={width:80,height:80},re={height:80,width:100,position:"fixed",bottom:25},ne=ae,oe=s.p+"static/media/PaRapidoLogo.c3571839.png",ce=s.p+"static/media/StudentLandingPage.cb12f0b8.png",le=s(151),de=s.n(le),ue=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={showLogin:!1,is_auth:!1,psswordChangedSuccesfully:!1,alertMssg:void 0,severity:void 0},a.showLoginModal=a.showLoginModal.bind(Object(m.a)(a)),a.hideAlert=a.hideAlert.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="#2F2D4A",this.setState({is_auth:p(this.props.cookies.get("csrf_access_token"))}),"POP"===this.props.history.action?this.setState({psswordChangedSuccesfully:!1,showLogin:!1}):void 0!==this.props.location.state&&(void 0!==this.props.location.state.psswordChangedSuccesfully&&this.setState({psswordChangedSuccesfully:this.props.location.state.psswordChangedSuccesfully,showLogin:!0}),void 0!==this.props.location.state.alertMssg&&void 0!==this.props.location.state.severity&&this.setState({alertMssg:this.props.location.state.alertMssg,severity:this.props.location.state.severity}))}},{key:"showLoginModal",value:function(){this.setState({showLogin:!this.state.showLogin})}},{key:"hideAlert",value:function(){var e=this;setTimeout((function(){e.setState({alertMssg:void 0,severity:void 0})}),3e3)}},{key:"render",value:function(){var e=this.state,t=e.psswordChangedSuccesfully,s=e.alertMssg,a=e.severity,i=e.is_auth;return Object(H.jsxs)("div",{children:[i&&Object(H.jsx)(b.a,{to:"/jobdashboard"}),t&&Object(H.jsx)(ne,{isOpen:this.state.showLogin,toggle:this.showLoginModal}),Object(H.jsx)("img",{src:ce,alt:"Landing page",style:be}),Object(H.jsxs)("div",{className:"landing-nav",children:[Object(H.jsx)("img",{className:"logostyle",src:oe,alt:"Logo"}),Object(H.jsxs)("ul",{className:"landing-nav-links",children:[Object(H.jsxs)("li",{className:"mini-flex-contactus",children:[Object(H.jsx)("div",{style:je,children:"Contact Us"}),Object(H.jsx)(de.a,{style:he}),Object(H.jsx)("a",{href:"mailTo:parapidopr@gmail.com?subject=Contact Support&body=HI!! :) we will come back to you as soon as possible!!!!",id:"small-urls",children:" parapidopr@gmail.com"})]}),Object(H.jsxs)("li",{children:[Object(H.jsx)("div",{id:"link",onClick:this.showLoginModal,children:"Login"}),this.state.showLogin&&Object(H.jsx)(ne,{isOpen:this.state.showLogin,toggle:this.showLoginModal})]})]})]}),void 0!==s&&void 0!==a&&Object(H.jsx)(W.a,{onLoad:this.hideAlert(),severity:a,className:"server-error-landing-page",children:s}),Object(H.jsx)("div",{className:"first-point-landing",children:"An easier way of finding and providing"}),Object(H.jsx)("p",{className:"second-point-landing",children:"Flexible Jobs."}),Object(H.jsx)("p",{className:"first-paragraph-landing",children:"Our team is committed in helping and providing flexible jobs to more than 10+ thousand low-income students from the UPR system. Also, we give employers the opportunity of helping the students by providing jobs in our platform."}),Object(H.jsx)(h.b,{to:"/signup",className:"button-landing",children:" Try PaRapido for FREE "})]})}}]),s}(a.Component),he={color:"#ffebcc",paddingRight:10,height:20},be={position:"absolute",right:"0%",height:"100vh",objectFit:"contain"},je={marginRight:15,position:"relative",top:2},me=ue,pe=s(408),ge=s(381),ve=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={item:void 0!==a.props.initial_value?a.props.initial_value:"",itemError:void 0},a.handleOnChangeCity=a.handleOnChangeCity.bind(Object(m.a)(a)),a.validateItem=a.validateItem.bind(Object(m.a)(a)),a.validate=a.validate.bind(Object(m.a)(a)),a.getAllItems=a.getAllItems.bind(Object(m.a)(a)),a.reset=a.reset.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"handleOnChangeCity",value:function(e){this.setState({item:e.target.value.toString()},this.validate)}},{key:"validate",value:function(){var e=this.props,t=e.validate,s=e.validationFunc;return s?s():t?this.validateItem():void 0}},{key:"getAllItems",value:function(){return this.props.itemsList.map((function(e,t){return Object(H.jsx)(pe.a,{value:t+1,children:e},"".concat(e,"-").concat(t))}))}},{key:"render",value:function(){var e=this.state,t=e.item,s=e.itemError,a=this.props,i=a.label,r=a.required,n=a.blackLabel,o=a.removeDefault,c=a.cormorantlabel,l=a.lineheightstyle;return Object(H.jsx)(Y.b,{injectFirst:!0,children:Object(H.jsxs)("div",{children:[Object(H.jsxs)("label",{style:{lineHeight:l},className:void 0!==c?"cormorant-label-text":"custom-input-label ".concat(void 0!==n&&"black-label-text","\n                    "),children:[" ",i,r&&"*"," "]}),Object(H.jsx)("br",{}),Object(H.jsxs)(ge.a,{value:t,onChange:this.handleOnChangeCity,className:void 0!==s?"item-dropdown dropdown-error":"item-dropdown",onClose:this.validate,MenuProps:{disableScrollLock:!0},inputProps:{underline:{"&&&:before":{borderBottom:"none"},"&&:after":{borderBottom:"none"}}},disableUnderline:!0,children:[void 0===o&&Object(H.jsx)(pe.a,{value:"0",children:"Choose one... "}),this.getAllItems()]}),void 0!==s&&Object(H.jsxs)("div",{className:"required-dropdown",children:[Object(H.jsx)(G.a,{style:Oe}),s]})]})})}},{key:"validateItem",value:function(){return""===this.state.item||"0"===this.state.item?(this.setState({itemError:"This field is required"}),!1):(this.setState({itemError:void 0}),!0)}},{key:"reset",value:function(){var e=this.props.initial_value;this.setState({item:void 0!==e?this.props.initial_value:""})}}]),s}(a.Component),Oe={color:"red",position:"relative",top:"4px"},fe=ve,ye=s.p+"static/media/DefaultProfilePicture.0e17a42e.svg",xe=s.p+"static/media/SchoolBag.9a2f9118.png",we=s.p+"static/media/Employer.bd339df9.png",Ne=s.p+"static/media/Admin.8cdadba3.png",_e=s(294),ke=s.n(_e),Ce=s(293),Se=s.n(Ce),Ae=s(292),Ee=s.n(Ae),Te=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=this.props,t=e.user_id,s=e.first_name,a=e.last_name,i=e.rating_value,r=e.jobs_cancelled,n=e.type,o=e.image,c=null!==o?o:ye;return Object(H.jsx)("div",{className:"profile-card-container",children:Object(H.jsx)("div",{className:"body-profile-card",children:Object(H.jsxs)("div",{className:"profile-card",children:[Object(H.jsx)("div",{className:"box-top-profile-card",children:Object(H.jsx)(h.b,{to:"/profile/".concat(t),children:Object(H.jsx)("img",{className:"profile-card-image",style:Le,src:c,alt:"profile"})})}),Object(H.jsxs)("ul",{className:"header-list-profile-card",children:[Object(H.jsxs)("li",{style:{fontWeight:"bold"},children:[" ",s," ",a," "]}),Object(H.jsxs)("li",{children:[Object(H.jsx)(Ee.a,{style:Fe}),null===i?"No rating yet ":"Rating: ".concat(i," of 5"),Object(H.jsx)(Se.a,{style:Pe})]}),void 0!==n&&Object(H.jsxs)("div",{className:"top-profile-card-lettering",children:[n===C?Object(H.jsx)("img",{src:xe,alt:"school bag",style:Re}):n===S?Object(H.jsx)("img",{src:we,alt:"client",style:Ie}):Object(H.jsx)("img",{src:Ne,alt:"admin",style:De}),Object(H.jsx)("p",{children:I[n]})]})]}),Object(H.jsxs)("div",{className:"footer-line-profile-card",children:[Object(H.jsx)(ke.a,{style:qe}),"Jobs Cancelled: ",r]})]})})})}}]),s}(a.Component),qe={color:"red",position:"relative",top:7},Pe={color:"burlywood",position:"relative",width:15,top:6,left:2},Fe={color:"yellow",position:"relative",width:19,top:6,left:2},Le={height:180,width:180},Re={height:50,width:50},Ie={height:50,width:50,backgroundColor:"white"},De={height:50,width:50},Ue=Te,Me=s(409),Je=s(295),ze=s.n(Je),Be=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},i.jobParams="",i.state={user:{first_name:"",last_name:"",email:"",about:"",type:"",image:"",jobs_cancelled:"",street:"",city:"",zipcode:"",rating_value:""},pageLoaded:!1,is_auth:!0,edit:!1,change_about:"",change_first_name:"",change_last_name:"",change_image:"",change_city:Object(a.createRef)(),change_zipcode:"",change_street:"",firstNameError:void 0,lastNameError:void 0,streetError:void 0,zipcodeError:void 0,redirect:void 0,alert:{msg:void 0,severity:"success"}},i.toggleEdit=i.toggleEdit.bind(Object(m.a)(i)),i.validateFirstName=i.validateFirstName.bind(Object(m.a)(i)),i.validateLastName=i.validateLastName.bind(Object(m.a)(i)),i.validateStreet=i.validateStreet.bind(Object(m.a)(i)),i.validateZipcode=i.validateZipcode.bind(Object(m.a)(i)),i.validateCity=i.validateCity.bind(Object(m.a)(i)),i.saveChanges=i.saveChanges.bind(Object(m.a)(i)),i.onClickDelete=i.onClickDelete.bind(Object(m.a)(i)),i}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.body.style.backgroundColor="#2F2D4A",this.setState({is_auth:p(this.props.cookies.get("csrf_access_token"))}),fetch("/api/user_info/"+this.props.user_id,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}}).then((function(t){200===t.status&&t.json().then((function(t){e.currentUser.type===A&&(e.jobParams="?".concat(N({account:t.type}))),e.setState({user:{first_name:t.first_name,last_name:t.last_name,email:t.email,image:t.image,type:t.type,about:t.about,jobs_cancelled:t.cancellations,street:t.street,city:t.city,zipcode:t.zipcode,rating_value:t.rate},pageLoaded:!0})}))}))}},{key:"onClickDelete",value:function(){var e=this;fetch("/api/delete_user/"+this.props.user_id,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}}).then((function(t){200!==t.status?e.setState({alert:{msg:"Can not delete user at this moment",severity:"error"},redirect:"/admin/site"}):e.setState({alert:{msg:"User deleted successfully"},redirect:"/admin/site"})}))}},{key:"saveChanges",value:function(){var e=this.validateLastName(),t=this.validateFirstName(),s=this.validateStreet(),a=this.validateZipcode(),i=this.validateCity();if(!e||!t||!s||!a||!i)return!1;var r,n="";""===this.state.change_zipcode&&""===this.state.change_street||(n=null===(r=this.state.change_city)||void 0===r?void 0:r.current.state.item);var o=new FormData;o.append("first_name",this.state.change_first_name),o.append("last_name",this.state.change_last_name),o.append("image",this.state.change_image),o.append("about",this.state.change_about),o.append("street",this.state.change_street),o.append("zipcode",this.state.change_zipcode),o.append("city",n),fetch("/api/edit_user/"+this.props.user_id,{method:"PUT",credentials:"same-origin",headers:{"X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")},body:o}).then((function(e){200!==e.status?alert("Sorry we can not edit your information at this moment. Try again later"):window.location.reload()}))}},{key:"toggleEdit",value:function(){var e,t=this.state,s=t.edit,a=t.change_city,i=t.user;s?this.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{edit:!e.edit,firstNameError:void 0,lastNameError:void 0,streetError:void 0,zipcodeError:void 0,cityError:void 0})})):(null===(e=a.current)||void 0===e||e.setState({item:i.city.toString()}),this.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{change_about:null!==e.user.about?e.user.about:"",change_first_name:e.user.first_name,change_last_name:e.user.last_name,change_zipcode:null!==e.user.zipcode?e.user.zipcode:"",change_street:null!==e.user.street?e.user.street:"",edit:!e.edit})})))}},{key:"render",value:function(){var e=this,t=this.state.user,s=t.first_name,a=t.last_name,r=t.email,n=t.about,o=t.street,c=t.city,l=t.zipcode,d=this.state,u=d.edit,j=d.change_about,m=d.change_first_name,p=d.change_last_name,g=d.change_city,O=d.change_zipcode,f=d.change_street,y=d.change_image,x=d.firstNameError,w=d.lastNameError,N=d.streetError,_=d.zipcodeError,k=d.is_auth,C=d.pageLoaded,S=d.user,E=d.redirect,T=d.alert,q=this.props.user_id,P=parseInt(q)===this.currentUser.id||this.currentUser.type===A;return Object(H.jsxs)(i.a.Fragment,{children:[!k&&Object(H.jsx)(b.a,{to:"/"}),void 0!==E&&Object(H.jsx)(b.a,{to:{pathname:E,state:{alertMssg:T.msg,severity:T.severity}}}),C?Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"header-flex-container",children:[P&&Object(H.jsxs)("div",{className:"button-flex-container",children:[S.type!==A&&Object(H.jsx)(h.b,{to:"/myjobs/".concat(q)+this.jobParams,children:Object(H.jsx)("button",{className:"custom-small-buttons",onClick:this.toggleEdit,children:this.currentUser.type===A?"User Jobs":"My Jobs"})}),Object(H.jsx)("button",{className:"custom-small-buttons",onClick:this.toggleEdit,children:u?"Cancel Edit":"Edit Profile"}),this.currentUser.type===A&&Object(H.jsx)("button",{className:"custom-small-buttons delete-button",onClick:this.onClickDelete,children:"Delete"})]}),Object(H.jsxs)("h1",{className:"page-title-header white-title",children:[s," ",a]})]}),Object(H.jsxs)("div",{className:"parent-table-body-container",children:[Object(H.jsx)("div",{className:"child1-flex-body-container",children:Object(H.jsx)(Ue,{user_id:q,first_name:S.first_name,last_name:S.last_name,rating_value:S.rating_value,jobs_cancelled:S.jobs_cancelled,type:S.type,image:S.image})}),u?Object(H.jsxs)("div",{className:"child2-grid-container",children:[Object(H.jsxs)("div",{className:"edit-info-grid-container",children:[Object(H.jsx)("div",{className:"grid-edit-info-item7",children:Object(H.jsx)("h2",{className:"edit-subheaders",children:"Personal information"})}),Object(H.jsx)("div",{className:"grid-edit-info-item1",children:Object(H.jsx)(K,{required:!0,value:m,className:"change-name",onChange:function(t){t.target.value.length<=15&&e.setState({change_first_name:t.target.value})},onBlur:this.validateFirstName,error:void 0!==x,errorMsg:x,labelText:"First Name"})}),Object(H.jsx)("div",{className:"grid-edit-info-item2",children:Object(H.jsx)(K,{required:!0,value:p,className:"change-name",onChange:function(t){t.target.value.length<=15&&e.setState({change_last_name:t.target.value})},onBlur:this.validateLastName,error:void 0!==w,errorMsg:w,labelText:"Last Name"})}),Object(H.jsx)("div",{className:"grid-edit-info-item3",children:Object(H.jsx)(K,{id:"change-about",labelText:"About",multiline:!0,rows:"6",value:j,className:"change-about-profile-page",onChange:function(t){t.target.value.length<=250&&e.setState({change_about:t.target.value})},style:{border:"2px solid black"}})}),Object(H.jsx)("div",{className:"grid-edit-info-item8",children:Object(H.jsx)("h2",{className:"edit-subheaders",children:"Address"})}),Object(H.jsx)("div",{className:"grid-edit-info-item4",children:Object(H.jsx)(K,{value:f,className:"change-street-address",onChange:function(t){t.target.value.length<=30&&e.setState({change_street:t.target.value})},onBlur:this.validateStreet,error:void 0!==N,errorMsg:N,labelText:"Street"})}),Object(H.jsx)("div",{className:"grid-edit-info-item5",children:Object(H.jsx)(fe,{lineheightstyle:"2",label:"City",initial_value:null===c?"":c,ref:g,validationFunc:this.validateCity,itemsList:v})}),Object(H.jsxs)("div",{className:"grid-edit-info-item6",children:[Object(H.jsx)(K,{value:O,className:"change-zipcode-address",onChange:function(t){var s=t.target.value;s.length<=5&&!isNaN(s)&&e.setState({change_zipcode:s})},onBlur:this.validateZipcode,error:void 0!==_,errorMsg:_,labelText:"Zipcode"}),Object(H.jsxs)("div",{className:"upload-profile-pic-container",children:[Object(H.jsx)("div",{className:"upload-file-text",children:void 0===y.name?"No file selected":y.name}),Object(H.jsxs)("label",{for:"profile-pic",className:"custom-file-upload",children:[Object(H.jsx)(ze.a,{})," Upload picture"]}),Object(H.jsx)("input",{id:"profile-pic",type:"file",name:"file",accept:"image/*",style:{display:"none"},onChange:function(t){e.setState({change_image:t.target.files[0]})}})]})]})]}),Object(H.jsx)("button",{className:"custom-small-buttons save-change-button",onClick:this.saveChanges,children:"Save changes"})]}):Object(H.jsxs)("table",{className:"table-body-content",children:[Object(H.jsxs)("tr",{className:"row-table-body",children:[Object(H.jsx)("td",{className:"column-table-body col1",children:"Email:"}),Object(H.jsxs)("td",{className:"column-table-body col2",children:[r," "]})]}),Object(H.jsxs)("tr",{className:"row-table-body",children:[Object(H.jsx)("td",{className:"column-table-body col1",children:"Address:"}),Object(H.jsx)("td",{className:"column-table-body col2",children:null!==o&&"".concat(o," ").concat(v[c-1]," PR, ").concat(l)})]}),Object(H.jsxs)("tr",{className:"row-table-body",children:[Object(H.jsx)("td",{className:"column-table-body col1",children:"About:"}),Object(H.jsx)("td",{className:"column-table-body col2",children:n})]})]})]})]}):Object(H.jsx)("div",{className:"loading-icon",children:Object(H.jsx)($.a,{sx:{display:"flex"},children:Object(H.jsx)(Me.a,{})})})]})}},{key:"validateFirstName",value:function(){return 0===this.state.change_first_name.length?(this.setState({firstNameError:"This field is required"}),!1):(this.setState({firstNameError:void 0}),!0)}},{key:"validateLastName",value:function(){return 0===this.state.change_last_name.length?(this.setState({lastNameError:"This field is required"}),!1):(this.setState({lastNameError:void 0}),!0)}},{key:"validateStreet",value:function(){var e=this.state,t=e.change_city,s=e.change_street,a=e.change_zipcode,i=e.zipcodeError;return 0===s.length&&a.length>0?(this.setState({streetError:"This field is required"}),!1):(""===s&&void 0!==i?(t.current.validate(),this.setState({zipcodeError:void 0,streetError:void 0})):this.setState({streetError:void 0}),!0)}},{key:"validateZipcode",value:function(){var e=this.state,t=e.change_city,s=e.change_street,a=e.change_zipcode,i=e.streetError;if(0===a.length&&s.length>0)return this.setState({zipcodeError:"This field is required"}),!1;if(""!==a){if(a.length<5)return this.setState({zipcodeError:"Zipcode format #####"}),!1;if(!R.test(a))return this.setState({zipcodeError:"Zipcode not from PR"}),!1}return""===a&&void 0!==i?(t.current.validate(),this.setState({zipcodeError:void 0,streetError:void 0})):this.setState({zipcodeError:void 0}),!0}},{key:"validateCity",value:function(){var e=this.state,t=e.change_city,s=e.change_zipcode,a=e.change_street;return!(s.length>0||a.length>0)||""!==(null===t||void 0===t?void 0:t.current.state.item)&&"0"!==(null===t||void 0===t?void 0:t.current.state.item)?(null===t||void 0===t||t.current.setState({itemError:void 0}),!0):(null===t||void 0===t||t.current.setState({itemError:"This field is required"}),!1)}}]),s}(a.Component),Ge=s(296),Ze=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="#2F2D4A"}},{key:"render",value:function(){var e=this.props,t=e.job_id,s=e.title,a=e.price,i=e.category,r=e.city,n=e.owner_first,o=e.owner_last,c=e.street,l=e.zipcode,d=e.date_posted;return Object(H.jsx)("div",{className:"card-body-wrapper",children:Object(H.jsx)(h.b,{to:"/job/"+t,className:"none-display-for-link",children:Object(H.jsx)("div",{className:"card-wrapper-1",children:Object(H.jsxs)("div",{className:"card-body",children:[Object(H.jsxs)("h2",{className:"card-title",children:[Object(H.jsxs)("div",{"data-tip":s,className:"break-title-job-dashboard",children:[" ",s]}),Object(H.jsxs)("div",{className:"tooltip",children:[" ",Object(H.jsx)(Ge.a,{place:"top",type:"dark",effect:"solid"})]}),Object(H.jsx)("div",{className:"circle-square"}),Object(H.jsx)("div",{className:"circle-square2"})]}),Object(H.jsxs)("h2",{className:"card-clientName",children:[" ",n," ",o]}),Object(H.jsxs)("p",{className:"card-location",children:[v[r-1]," ",c," ",l]}),Object(H.jsxs)("div",{className:"card-price",children:[" ",a," "]}),Object(H.jsxs)("div",{style:{marginLeft:6,fontWeight:"bold",color:"green"},children:[" ",i," "]}),Object(H.jsx)("div",{style:{float:"right",paddingRight:"10px",fontFamily:"Times New Roman",fontSize:10,fontWeight:"400"},children:d})]})})})})}}]),s}(a.Component),He=s(152),Qe=s.n(He),Xe=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},i.state={jobs:[],change_category:Object(a.createRef)(),change_city:Object(a.createRef)(),change_price:Object(a.createRef)(),is_auth:!0,pageLoaded:!1,filterLoaded:!1},i.getJobs=i.getJobs.bind(Object(m.a)(i)),i.clickFilter=i.clickFilter.bind(Object(m.a)(i)),i}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="#2F2D4A",this.setState({is_auth:p(this.props.cookies.get("csrf_access_token"))}),this.getJobs()}},{key:"getJobs",value:function(){var e=this;fetch("/api/jobs_list/1",{method:"GET"}).then((function(t){200===t.status&&t.json().then((function(t){e.setState({jobs:t,pageLoaded:!0,filterLoaded:!0})}))}))}},{key:"clickFilter",value:function(){var e,t,s,a=this;this.setState({filterLoaded:!1});var i=null===(e=this.state.change_category)||void 0===e?void 0:e.current.state.item,r=null===(t=this.state.change_city)||void 0===t?void 0:t.current.state.item,n="?",o=null===(s=this.state.change_price)||void 0===s?void 0:s.current.state.item;""!==i&&"0"!==i&&(n+=i="category=".concat(i)),"0"===i&&(n="?"),""!==r&&"0"!==r&&(1===n.length?n+=r="city=".concat(r):n+=r="&city=".concat(r)),""!==o&&"0"!==o&&(1===n.length?("1"===o?o="maxPrice=19":"2"===o?o="minPrice=20&maxPrice=40":"3"===o?o="minPrice=50&maxPrice=60":"4"===o?o="minPrice=70&maxPrice=100":"5"===o&&(o="minPrice=101"),n+=o):("1"===o?o="&maxPrice=20":"2"===o?o="&minPrice=20&maxPrice=40":"3"===o?o="&minPrice=50&maxPrice=60":"4"===o?o="&minPrice=70&maxPrice=100":"5"===o&&(o="&minPrice=101"),n+=o)),fetch("/api/jobs_list/1"+n,{method:"GET"}).then((function(e){"0"===i&&"0"===v&&"0"===o?a.getJobs():200===e.status?e.json().then((function(e){a.setState({jobs:e,filterLoaded:!0})})):a.setState({jobs:[],filterLoaded:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.jobs,s=e.change_category,a=e.change_city,i=e.change_price,r=e.is_auth,n=e.pageLoaded,o=e.filterLoaded,c=this.currentUser.type===S,l=t.map((function(e){return Object(H.jsx)(Ze,{job_id:e.job_id,date_posted:e.date_posted,title:e.title,city:e.city,price:e.price,category:e.categories,owner_first:e.owner_first,owner_last:e.owner_last,street:e.street,zipcode:e.zipcode})}));return Object(H.jsxs)("div",{children:[!r&&Object(H.jsx)(b.a,{to:"/"}),n?Object(H.jsxs)("div",{children:[Object(H.jsxs)("h1",{className:"page-title-header white-title",children:["Job Dashboard",c&&Object(H.jsx)(h.b,{to:"/jobcreation",children:Object(H.jsx)("button",{className:"create-job-button-job-dashboard",children:Object(H.jsx)("div",{className:"text-button-job-dashboard",children:"Create Job"})})})]}),Object(H.jsxs)("div",{style:Ke,children:[Object(H.jsx)(fe,{cormorantlabel:!0,lineheightstyle:"2.5",ref:s,itemsList:T,label:"Categories"}),Object(H.jsx)(fe,{cormorantlabel:!0,lineheightstyle:"2.5",ref:i,itemsList:q,label:"Prices"}),Object(H.jsx)(fe,{cormorantlabel:!0,lineheightstyle:"2.5",ref:a,itemsList:v,label:"Cities"}),Object(H.jsx)("button",{className:"filter-button",onClick:this.clickFilter,children:Object(H.jsxs)("div",{className:"text-filter-button",children:[Object(H.jsx)(Qe.a,{}),"Filter"]})})]}),o?Object(H.jsx)("div",{className:"card-wrapper",children:l}):Object(H.jsx)("div",{className:"loading-icon",style:{height:"50vh"},children:Object(H.jsx)($.a,{sx:{display:"flex"},children:Object(H.jsx)(Me.a,{style:{alignItems:"center"}})})})]}):Object(H.jsx)("div",{className:"loading-icon",children:Object(H.jsx)($.a,{sx:{display:"flex"},children:Object(H.jsx)(Me.a,{})})})]})}}]),s}(a.Component),Ke={display:"flex",flexDirection:"row",justifyContent:"space-evenly",flexWrap:"wrap",marginBottom:"auto"},We=Xe,Ye=s(298),Ve=s.n(Ye),$e=s(297),et=s.n($e),tt=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},a.navSlide=function(){document.querySelector(".nav-links").classList.toggle("nav-active");var e=document.querySelectorAll(".nav-links li");a.setState({menu_open:!a.state.menu_open}),e.forEach((function(e,t){e.style.animation?e.style.animation="":e.style.animation="navLinksFade 0.4s ease forwards ".concat(t/5,"s")}))},a.state={logout_success:!1,menu_open:!1},a.handleLogOut=a.handleLogOut.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"handleLogOut",value:function(){var e=this;fetch("/api/logout",{method:"POST",credentials:"same-origin",headers:{"X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}}).then((function(t){t.ok&&t.json().then((function(t){localStorage.removeItem("user_id"),localStorage.removeItem("type"),e.setState({logout_success:!0})}))}))}},{key:"render",value:function(){var e=this.state,t=e.logout_success,s=e.menu_open,a=void 0!==this.props.cookies.get("csrf_access_token");return Object(H.jsxs)("nav",{children:[t&&Object(H.jsx)(b.a,{to:"/"}),Object(H.jsxs)("div",{className:"nav",children:[Object(H.jsx)(h.b,{to:"/jobdashboard",children:Object(H.jsx)("img",{className:"logostyle",src:oe,alt:"Logo"})}),a&&Object(H.jsx)(i.a.Fragment,{children:Object(H.jsxs)("ul",{className:"nav-links",children:[Object(H.jsx)("li",{children:Object(H.jsx)(h.b,{to:"/jobdashboard",children:"Job Dashboard"})}),Object(H.jsx)("li",{children:Object(H.jsx)(h.b,{to:"/profile/"+this.currentUser.id,children:"Profile"})}),this.currentUser.type===A?Object(H.jsx)("li",{children:Object(H.jsx)(h.b,{to:"/admin/site",children:"Administration"})}):Object(H.jsx)("li",{children:Object(H.jsx)(h.b,{to:"/myjobs/".concat(this.currentUser.id),children:"My Jobs"})}),Object(H.jsx)("li",{children:Object(H.jsx)("div",{children:Object(H.jsx)("div",{onClick:this.handleLogOut,id:"logout",children:" Log Out "})})})]})}),Object(H.jsx)("div",{className:"menu-open",onClick:this.navSlide,children:s?Object(H.jsx)(et.a,{}):Object(H.jsx)(Ve.a,{})})]})]})}}]),s}(a.Component),st=s.p+"static/media/VirtualContract.77125dec.png",at={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"3px solid black",boxShadow:24,p:4,padding:"9px",borderRadius:"1vh",paddingBottom:"2vh"},it=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},a.state={checked:!1,isclient:!1,isstudent:!1,studentIsChoosen:!1,alertMssg:void 0,severity:void 0},a.handleOnClick=a.handleOnClick.bind(Object(m.a)(a)),a.isChecked=a.isChecked.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"handleOnClick",value:function(){var e=this,t=this.props,s=t.job_id,a=t.student_id,i=t.cookies;this.currentUser.type===S?fetch("/api/assign_job",{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":i},body:JSON.stringify({job_id:s,student_id:a})}).then((function(t){200===t.status?e.setState({isclient:!0,alertMssg:"The job has been successfully added to the In-progress status!!! \ud83d\udc4d\ud83c\udffc",severity:"info"}):e.setState({isclient:!0,alertMssg:"Sorry can't process right now \ud83d\ude14 please try again later!!!",severity:"error"})})):this.currentUser.type===C&&fetch("/api/request_job",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":i},body:JSON.stringify({job_id:s,student_id:this.currentUser.id})}).then((function(t){200===t.status?e.setState({isstudent:!0,alertMssg:"The job has been requested succesfully!!! \ud83d\udc4d\ud83c\udffc",severity:"success"}):e.setState({isstudent:!0,alertMssg:"Sorry can't request job right now \ud83d\ude14 please try again later!!!",severity:"error"})}))}},{key:"isChecked",value:function(e){this.setState({checked:e.target.checked})}},{key:"render",value:function(){var e=this.state,t=e.checked,s=e.isclient,a=e.isstudent,i=e.alertMssg,r=e.severity,n=this.props,o=n.isOpen,c=n.toggle;return Object(H.jsx)(Y.b,{injectFirst:!0,children:Object(H.jsx)("div",{children:Object(H.jsx)(V.a,{open:o,onClose:c,style:{textAlign:"center"},children:Object(H.jsxs)($.a,{sx:at,children:[Object(H.jsx)("div",{className:"logo-flex-Agreement",children:Object(H.jsx)("img",{src:te,alt:"login logo",style:rt})}),Object(H.jsx)("div",{className:"first-point-agreement-modal",children:"Virtual Contract Agreement:"}),Object(H.jsxs)("div",{className:"body-container-agreement-modal",children:[Object(H.jsxs)("p",{className:"long-text-agreement-modal",children:[Object(H.jsx)("label",{class:"checkbox",children:Object(H.jsx)("input",{type:"checkbox",id:"checkbox-small-size",style:{marginRight:"1vh"},onChange:this.isChecked.bind(this)})}),"Check to state that you have read and agree with the job information"]}),Object(H.jsx)("img",{style:ot,src:st,alt:"continue arrow"}),a&&Object(H.jsx)(b.a,{to:{pathname:"/myjobs/".concat(this.currentUser.id),state:{alertMssg:i,severity:r}}}),s&&Object(H.jsx)(b.a,{to:{pathname:"/myjobs/".concat(this.currentUser.id),state:{alertMssg:i,severity:r}}}),Object(H.jsxs)("button",{id:"agreement",name:"agreement",onClick:this.handleOnClick,className:"agreement-modal-continue-button",disabled:!t,children:[Object(H.jsx)("div",{className:"text-button-agreement-modal",children:"Agree & Continue"}),Object(H.jsx)("img",{style:nt,src:ee,alt:"continue arrow"})]})]}),Object(H.jsx)("hr",{className:"line-login-modal"})]})})})})}}]),s}(a.Component),rt={width:80,height:80,float:"right"},nt={height:"80px",width:"100px",position:"fixed",bottom:"-1.3vh"},ot={height:80,width:75,marginBottom:"1vh"},ct=it,lt=s(431),dt=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},a.state={is_auth:!0,job:{owner_id:"",student_id:"",title:"",description:"",price:"",categories:"",status:"",date_posted:"",street:"",city:"",zipcode:"",owner_name:"",owner_last:"",owner_image:"",owner_cancellations:"",student_name:"",student_last:"",days:[],users_requested:[],owner_rating:""},pageLoaded:!1,redirect:void 0,showAgreement:!1,alert:{msg:void 0,severity:"success"}},a.onClickRequest=a.onClickRequest.bind(Object(m.a)(a)),a.onClickCancelRequest=a.onClickCancelRequest.bind(Object(m.a)(a)),a.getJobDays=a.getJobDays.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.body.style.backgroundColor="#2F2D4A",this.setState({is_auth:p(this.props.cookies.get("csrf_access_token"))});var t=this.props.job_id;fetch("/api/job_details/".concat(t),{method:"GET",headers:{"X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}}).then((function(t){200===t.status?t.json().then((function(t){e.setState({job:{owner_id:t.owner_id,student_id:t.student_id,title:t.title,description:t.description,price:t.price,categories:t.categories,status:t.status,date_posted:t.date_posted,street:t.street,city:t.city,zipcode:t.zipcode,owner_name:t.owner_name,owner_last:t.owner_last,owner_image:t.owner_image,student_name:t.student_name,student_last:t.student_last,days:t.days,users_requested:t.users_requested,owner_rating:t.owner_rating,owner_cancellations:t.owner_cancellations},pageLoaded:!0})})):alert(t)}))}},{key:"onClickRequest",value:function(){var e=this.state.showAgreement;this.setState({showAgreement:!e})}},{key:"onClickCancelRequest",value:function(){var e=this,t=this.props.job_id;fetch("/api/cancel_request",{method:"PUT",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")},body:JSON.stringify({job_id:t,student_id:this.currentUser.id})}).then((function(t){200===t.status?e.setState({redirect:"/myjobs/".concat(e.currentUser.id),alert:{msg:"Request has been cancelled successfully!!! \ud83d\udc4d\ud83c\udffc",severity:"success"}}):e.setState({redirect:"/myjobs/".concat(e.currentUser.id),alert:{msg:"Unable to cancel the request at this moment, try again later",severity:"error"}})}))}},{key:"getJobDays",value:function(){return this.state.job.days.map((function(e,t){return Object(H.jsx)(lt.a,{label:E[e-1],style:ut},"day-".concat(t))}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.is_auth,a=t.job,r=t.pageLoaded,n=t.redirect,o=t.showAgreement,c=t.alert,l=this.props.job_id,d=this.props.cookies.get("csrf_access_token"),u=a.users_requested.filter((function(t){return t[0]===e.currentUser.id&&1===t[1]})).length>0&&a.status===O,j=this.currentUser.type===C&&0===a.users_requested.filter((function(t){return t[0]===e.currentUser.id})).length&&a.status===O,m=this.currentUser.id===a.owner_id&&(a.status===O||a.status===f)||this.currentUser.id===a.student_id&&a.status===f,p=this.currentUser.type===A&&a.status!==w,N=(a.status===f||a.status===y)&&(this.currentUser.id===a.owner_id||this.currentUser.id===a.student_id),k=a.status===f&&(this.currentUser.id===a.owner_id||this.currentUser.id===a.student_id),E=a.status===O&&a.owner_id===this.currentUser.id;return Object(H.jsxs)("div",{className:"Dashboard",children:[!s&&Object(H.jsx)(b.a,{to:"/"}),r?Object(H.jsxs)("div",{children:[void 0!==n&&Object(H.jsx)(b.a,{to:{pathname:n,state:{alertMssg:c.msg,severity:c.severity}}}),Object(H.jsxs)("div",{className:"header-flex-container",children:[Object(H.jsxs)("div",{className:"button-flex-container",children:[j&&Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)("button",{onClick:this.onClickRequest,className:"custom-small-buttons",children:"Request Job"}),o&&Object(H.jsx)(ct,{isOpen:o,toggle:this.onClickRequest,job_id:l,cookies:d})]}),m&&Object(H.jsx)("button",{onClick:function(){var t=e.currentUser.type===S?x:O;g(d,l,t)?e.setState({redirect:"/myjobs/".concat(e.currentUser.id),alert:{msg:"The Job has been cancelled successfully!!! \ud83d\udc4d",severity:"success"}}):e.setState({redirect:"/myjobs/".concat(e.currentUser.id),alert:{msg:"Can not cancel the job a this moment, please try again later",severity:"error"}})},className:"custom-small-buttons",children:"Cancel Job"}),u&&Object(H.jsx)("button",{onClick:this.onClickCancelRequest,className:"custom-small-buttons",children:"Cancel Request"}),N&&Object(H.jsx)("a",{href:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/pdf/").concat(l,"?student_id=").concat(a.student_id,"&owner_id=").concat(a.owner_id),className:"custom-small-buttons",children:"View Contract"}),k&&Object(H.jsx)(h.b,{to:"/chat?job_id=".concat(l),className:"custom-small-buttons",children:"Chat"}),p&&Object(H.jsx)("button",{onClick:function(){g(d,l,w)?e.setState({redirect:"/admin/site",alert:{msg:"Job deleted successfully"}}):e.setState({redirect:"/admin/site",alert:{msg:"Can not delete the job at this moment",severity:"error"}})},className:"custom-small-buttons delete-button",children:"Delete Job"}),E&&Object(H.jsx)(h.b,{to:"/job_requests?job_id=".concat(l),className:"custom-small-buttons",children:"View Requests"})]}),Object(H.jsx)("h1",{className:"page-title-header white-title",children:a.title})]}),Object(H.jsxs)("div",{className:"parent-table-body-container",children:[Object(H.jsx)("div",{className:"child1-flex-body-container",children:Object(H.jsx)(Ue,{user_id:a.owner_id,first_name:a.owner_name,last_name:a.owner_last,rating_value:a.owner_rating,jobs_cancelled:a.owner_cancellations,type:void 0,image:a.owner_image})}),Object(H.jsxs)("table",{className:"table-body-content",children:[Object(H.jsxs)("tr",{className:"row-table-body",children:[Object(H.jsx)("td",{className:"column-table-body col1",children:"Description:"}),Object(H.jsxs)("td",{className:"column-table-body col2",children:[a.description," "]})]}),Object(H.jsxs)("tr",{className:"row-table-body",children:[Object(H.jsx)("td",{className:"column-table-body col1",children:"Price:"}),Object(H.jsx)("td",{className:"column-table-body col2",children:a.price})]}),Object(H.jsxs)("tr",{className:"row-table-body",children:[Object(H.jsx)("td",{className:"column-table-body col1",children:"Location:"}),Object(H.jsxs)("td",{className:"column-table-body col2",children:[a.street," ",v[a.city-1]," PR, ",a.zipcode]})]}),Object(H.jsxs)("tr",{className:"row-table-body",children:[Object(H.jsx)("td",{className:"column-table-body col1",children:"Category:"}),Object(H.jsx)("td",{className:"column-table-body col2",children:Object(H.jsx)(lt.a,{label:a.categories,style:ut})})]}),Object(H.jsxs)("tr",{className:"row-table-body",children:[Object(H.jsx)("td",{className:"column-table-body col1",children:"Available Days:"}),Object(H.jsx)("td",{className:"column-table-body col2",children:this.getJobDays()})]}),Object(H.jsxs)("tr",{className:"row-table-body",children:[Object(H.jsx)("td",{className:"column-table-body col1",children:"Status:"}),Object(H.jsx)("td",{className:"column-table-body col2",children:_[a.status-1]})]}),null!==a.student_id&&Object(H.jsxs)("tr",{className:"row-table-body",children:[Object(H.jsx)("td",{className:"column-table-body col1",children:"Assigned to:"}),Object(H.jsx)("td",{className:"column-table-body col2",children:Object(H.jsx)(h.b,{to:"/profile/".concat(a.student_id),id:"small-urls",children:"".concat(a.student_name," ").concat(a.student_last)})})]})]})]})]}):Object(H.jsx)("div",{className:"loading-icon",children:Object(H.jsx)($.a,{sx:{display:"flex"},children:Object(H.jsx)(Me.a,{})})})]})}}]),s}(a.Component),ut={backgroundColor:"#FFEBCC",fontFamily:"Jost",fontSize:"18px",fontWeight:"400",padding:"5px",border:"1px solid black",marginRight:"5px"},ht=dt,bt=s(196),jt=s(364),mt=s(286),pt=s(410),gt=s(423),vt=s(370),Ot=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).change=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value),(function(){"accountType"===e.target.name&&a.validateAccountType()}))},a.state={firstName:"",firstNameError:void 0,lastName:"",lastNameError:void 0,email:"",emailError:void 0,password:"",passwordError:void 0,confirmPassword:"",confirmPasswordError:void 0,isFetchError:!1,fetchError:"",questionOneRef:i.a.createRef(),questionTwoRef:i.a.createRef(),answerOne:"",answerOneError:void 0,answerTwo:"",answerTwoError:void 0,accountType:"",accountTypeError:void 0,registerSuccess:!1,questionError:void 0,alert:{msg:void 0,severity:void 0}},a.validateFirstName=a.validateFirstName.bind(Object(m.a)(a)),a.validateLastName=a.validateLastName.bind(Object(m.a)(a)),a.validateEmail=a.validateEmail.bind(Object(m.a)(a)),a.validatePassword=a.validatePassword.bind(Object(m.a)(a)),a.validatePasswordConfirm=a.validatePasswordConfirm.bind(Object(m.a)(a)),a.validateAnswerOne=a.validateAnswerOne.bind(Object(m.a)(a)),a.validateAnswerTwo=a.validateAnswerTwo.bind(Object(m.a)(a)),a.validateAccountType=a.validateAccountType.bind(Object(m.a)(a)),a.validateQuestions=a.validateQuestions.bind(Object(m.a)(a)),a.validateFetch=a.validateFetch.bind(Object(m.a)(a)),a.onSubmit=a.onSubmit.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="#2F2D4A"}},{key:"onSubmit",value:function(){var e=this.validateFirstName(),t=this.validateLastName(),s=this.validateEmail(),a=this.validatePassword(),i=this.validatePasswordConfirm(),r=this.validateAnswerOne(),n=this.validateAnswerTwo(),o=this.validateAccountType(),c=this.validateQuestions();e&&t&&s&&a&&i&&r&&n&&o&&c&&this.validateFetch()}},{key:"hideAlert",value:function(){var e=this;setTimeout((function(){e.setState({isFetchError:!1,alert:{msg:void 0,severity:void 0}})}),3e3)}},{key:"render",value:function(){var e=this.state,t=e.firstName,s=e.lastName,a=e.email,i=e.password,r=e.confirmPassword,n=e.questionOneRef,o=e.questionTwoRef,c=e.answerOne,l=e.answerTwo,d=e.isFetchError,u=e.alert,h=e.registerSuccess;return Object(H.jsxs)("div",{children:[d&&Object(H.jsx)(W.a,{onLoad:this.hideAlert(),severity:u.severity,className:"server-error",children:u.msg}),h&&Object(H.jsx)("div",{children:Object(H.jsx)(b.a,{to:{pathname:"/",state:{alertMssg:u.msg,severity:u.severity}}})}),Object(H.jsx)("div",{className:"page-header",children:" Create Account "}),Object(H.jsxs)("div",{className:"outer-flexbox",children:[Object(H.jsxs)("div",{className:"right-flexbox",children:[Object(H.jsxs)("div",{className:"horizontal-flexbox1",children:[Object(H.jsx)(K,{required:!0,error:void 0!==this.state.firstNameError,variant:"filled",labelText:"First Name",type:"text",name:"firstName",value:t,onChange:this.change,errorMsg:this.state.firstNameError,className:"first-name-style",onBlur:this.validateFirstName}),Object(H.jsx)(K,{required:!0,error:void 0!==this.state.lastNameError,variant:"filled",labelText:"Last Name",type:"text",name:"lastName",value:s,onChange:this.change,errorMsg:this.state.lastNameError,className:"last-name-style",onBlur:this.validateLastName})]}),Object(H.jsx)("div",{className:"horizontal-flexbox2",children:Object(H.jsx)(K,{required:!0,error:void 0!==this.state.emailError,variant:"filled",labelText:"Email",type:"text",name:"email",value:a,onChange:this.change,errorMsg:this.state.emailError,className:"email-style",onBlur:this.validateEmail})}),Object(H.jsx)("div",{className:"horizontal-flexbox2",children:Object(H.jsx)(K,{required:!0,error:void 0!==this.state.passwordError,variant:"filled",labelText:"Password",type:"password",name:"password",value:i,onChange:this.change,errorMsg:this.state.passwordError,className:"password-style",onBlur:this.validatePassword})}),Object(H.jsx)("div",{className:"horizontal-flexbox2",children:Object(H.jsx)(K,{required:!0,error:void 0!==this.state.confirmPasswordError,variant:"filled",labelText:"Confirm Password",type:"password",name:"confirmPassword",value:r,onChange:this.change,errorMsg:this.state.confirmPasswordError,className:"confirm-password-style",onBlur:this.validatePasswordConfirm})}),Object(H.jsx)("div",{className:"horizontal-flexbox2",children:Object(H.jsxs)(bt.a,{component:"fieldset",style:ft,error:void 0!==this.state.accountTypeError,children:[Object(H.jsx)(jt.a,{component:"legend",style:yt,children:"Account Type"}),Object(H.jsxs)(mt.a,{row:!0,"aria-label":"Account Type",name:"accountType",onChange:this.change,value:this.state.accountType,children:[Object(H.jsx)(pt.a,{value:"1",control:Object(H.jsx)(gt.a,{style:xt}),label:"Student"}),Object(H.jsx)(pt.a,{value:"2",control:Object(H.jsx)(gt.a,{style:xt}),label:"Client"})]}),Object(H.jsx)(vt.a,{children:this.state.accountTypeError})]})})]}),Object(H.jsxs)("div",{className:"left-flexbox",children:[Object(H.jsx)("div",{className:"horizontal-flexbox2",children:Object(H.jsx)("h2",{className:"empty-list-subheader white",children:"Security Questions"})}),Object(H.jsx)("div",{className:"horizontal-flexbox3",children:Object(H.jsx)(fe,{initial_value:1,ref:n,itemsList:k,validationFunc:this.validateQuestions,label:"Question 1"})}),Object(H.jsx)("div",{className:"horizontal-flexbox4",children:Object(H.jsx)(K,{required:!0,error:void 0!==this.state.answerOneError,variant:"filled",labelText:"Answer 1",errorMsg:this.state.answerOneError,type:"text",name:"answerOne",value:c,onChange:this.change,className:"answer-one-style",onBlur:this.validateAnswerOne})}),Object(H.jsx)("div",{className:"horizontal-flexbox3",children:Object(H.jsx)(fe,{initial_value:2,ref:o,itemsList:k,validationFunc:this.validateQuestions,label:"Question 2"})}),Object(H.jsx)("div",{className:"horizontal-flexbox4",style:{marginBottom:"2vh"},children:Object(H.jsx)(K,{required:!0,error:void 0!==this.state.answerTwoError,variant:"filled",labelText:"Answer 2",errorMsg:this.state.answerTwoError,type:"text",name:"answerTwo",value:l,onChange:this.change,className:"answer-two-style",onBlur:this.validateAnswerTwo})}),Object(H.jsx)("div",{className:"horizontal-flexbox5",children:Object(H.jsx)("button",{variant:"contained",className:"create-button-style",onClick:this.onSubmit,children:"Create"})})]})]})]})}},{key:"validateFirstName",value:function(){return 0===this.state.firstName.length?(this.setState({firstNameError:"This field is required"}),!1):(this.setState({firstNameError:void 0}),!0)}},{key:"validateLastName",value:function(){return 0===this.state.lastName.length?(this.setState({lastNameError:"This field is required"}),!1):(this.setState({lastNameError:void 0}),!0)}},{key:"validateEmail",value:function(){var e=this.state,t=e.email,s=e.accountType;if(""===t.length)return this.setState({emailError:"This field is required"}),!1;return/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}$/.test(t)?!(""!==s&&!this.validateAccountType())&&(this.setState({emailError:void 0}),!0):(this.setState({emailError:"The email provided is not valid"}),!1)}},{key:"validatePassword",value:function(){var e=this.state.password;return 0===e.length?(this.setState({passwordError:"This field is required"}),!1):e.length<6?(this.setState({passwordError:"At least 6 characters are required"}),!1):(this.setState({passwordError:void 0}),!0)}},{key:"validatePasswordConfirm",value:function(){var e=this.state,t=e.confirmPassword,s=e.password;return 0===t.length?(this.setState({confirmPasswordError:"This field is required"}),!1):s!==t?(this.setState({confirmPasswordError:"Passwords does not match"}),!1):(this.setState({confirmPasswordError:void 0}),!0)}},{key:"validateAnswerOne",value:function(){return 0===this.state.answerOne.length?(this.setState({answerOneError:"This field is required"}),!1):(this.setState({answerOneError:void 0}),!0)}},{key:"validateAnswerTwo",value:function(){return 0===this.state.answerTwo.length?(this.setState({answerTwoError:"This field is required"}),!1):(this.setState({answerTwoError:void 0}),!0)}},{key:"validateAccountType",value:function(){var e=this.state,t=e.email,s=e.accountType;return""===s?(this.setState({accountTypeError:"This field is required"}),!1):"1"!==s||""===t||/^.+@upr\.edu$/.test(t)?(this.setState({accountTypeError:void 0}),!0):(this.setState({emailError:"A upr email is needed to register as student"}),!1)}},{key:"validateQuestions",value:function(){var e=this.state,t=e.questionOneRef,s=e.questionTwoRef;if(null!==t.current&&null!==s.current)return parseInt(null===t||void 0===t?void 0:t.current.state.item)===parseInt(null===s||void 0===s?void 0:s.current.state.item)?(null===t||void 0===t||t.current.setState({itemError:"Please select different questions"}),null===s||void 0===s||s.current.setState({itemError:"Please select different questions"}),!1):(null===t||void 0===t||t.current.setState({itemError:void 0}),null===s||void 0===s||s.current.setState({itemError:void 0}),!0)}},{key:"validateFetch",value:function(){var e,t,s=this;fetch("/api/create_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:this.state.firstName,last_name:this.state.lastName,email:this.state.email,password:this.state.password,q_type1:null===(e=this.state.questionOneRef)||void 0===e?void 0:e.current.state.item,q_type2:null===(t=this.state.questionTwoRef)||void 0===t?void 0:t.current.state.item,ans1:this.state.answerOne,ans2:this.state.answerTwo,type:this.state.accountType})}).then((function(e){201===e.status?s.setState({registerSuccess:!0,alert:{msg:"The account has been successfully created!!! \ud83d\udc4d\ud83c\udffc",severity:"success"}}):409===e.status?s.setState({isFetchError:!0,alert:{msg:"Email address is already registered.",severity:"error"}}):s.setState({isFetchError:!0,alert:{msg:"Sorry, we are unable to create your account at this moment. Please try again later!",severity:"error"}})}))}}]),s}(a.Component),ft={position:"absolute",marginTop:"10px",color:"#FFFFFF"},yt={color:"#FFFFFF"},xt={color:"#FFFFFF"},wt=Ot,Nt=s.p+"static/media/ErrorPageCartoon.fb3e2572.jpg",_t=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="#FFFFFF"}},{key:"render",value:function(){var e=this.props,t=e.errorNumber,s=e.errorType;return Object(H.jsxs)("div",{className:"main-container-error-page",children:[Object(H.jsxs)("div",{className:"body-container-error-page",children:[Object(H.jsx)("img",{src:Nt,alt:"errorpagecartoon",style:{height:"90vh"}}),Object(H.jsxs)("div",{className:"main-text-container-error-page",children:[Object(H.jsxs)("div",{className:"error-response-error-page",children:[t,Object(H.jsx)("img",{src:"data:image/png;base64,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",alt:"error",style:{marginLeft:"2vh"}})]}),Object(H.jsxs)("div",{className:"error-response-error-page1",children:[Object(H.jsx)("div",{children:"Uh-OH!!!"}),Object(H.jsx)("div",{children:s})]}),Object(H.jsx)(h.b,{to:"/",children:Object(H.jsx)("button",{className:"button-error-page",children:Object(H.jsx)("div",{className:"text-button-error-page",children:"Home"})})})]})]}),Object(H.jsxs)("div",{className:"footer-error-page",children:[Object(H.jsx)("div",{children:" The support team can be contacted at:\xa0 "}),Object(H.jsx)(de.a,{style:kt}),Object(H.jsx)("a",{href:"mailTo:parapidopr@gmail.com?subject=Contact Support&body=HI!! :) we will come back to you as soon as possible!!!!",id:"parapido-email-error-page",children:" parapidopr@gmail.com"})]})]})}}]),s}(a.Component),kt={color:"lightcoral",height:20},Ct=_t,St=s(134),At=Object(St.a)("li")((function(e){return{margin:e.theme.spacing(.5)}})),Et=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={chipData:[{key:0,label:"Sunday"},{key:1,label:"Monday"},{key:2,label:"Tuesday"},{key:3,label:"Wednesday"},{key:4,label:"Thursday"},{key:5,label:"Friday"},{key:6,label:"Saturday"}]},a.handleAvailableDaysDelete=a.handleAvailableDaysDelete.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"handleAvailableDaysDelete",value:function(e){var t=this.state.chipData.filter((function(t){return t.key!==e.key}));this.setState({chipData:t})}},{key:"render",value:function(){var e=this;return Object(H.jsxs)(i.a.Fragment,{children:[0===this.state.chipData.length&&Object(H.jsx)("div",{children:Object(H.jsx)(s,{})}),Object(H.jsx)("div",{className:"chip-flex-job-creation",children:this.state.chipData.map((function(t){return Object(H.jsx)(At,{children:Object(H.jsx)(lt.a,{style:Tt,label:t.label,onDelete:function(){return e.handleAvailableDaysDelete(t)}})},t.key)}))})]})}}]),s}(a.Component),Tt={backgroundColor:"#FFEBCC",fontFamily:"Jost",fontSize:15},qt=Et,Pt=s(299),Ft=s.n(Pt),Lt=s(301),Rt=s.n(Lt),It=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},i.state={title:"",street:"",description:"",zipcode:"",price:"",change_city:Object(a.createRef)(),change_category:Object(a.createRef)(),availableDays_chips:Object(a.createRef)(),titleError:void 0,streetError:void 0,descriptionError:void 0,zipcodeError:void 0,priceError:void 0,serverProcessedRequest:!0,is_auth:!0,is_client:i.currentUser.type===S,alertMssg:void 0,severity:void 0},i.handleChange=i.handleChange.bind(Object(m.a)(i)),i.handleCreateClick=i.handleCreateClick.bind(Object(m.a)(i)),i.validateTitle=i.validateTitle.bind(Object(m.a)(i)),i.validateStreet=i.validateStreet.bind(Object(m.a)(i)),i.validateDescription=i.validateDescription.bind(Object(m.a)(i)),i.validateZipcode=i.validateZipcode.bind(Object(m.a)(i)),i.validatePrice=i.validatePrice.bind(Object(m.a)(i)),i}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="#2F2D4A",this.setState({is_auth:p(this.props.cookies.get("csrf_access_token"))})}},{key:"handleChange",value:function(e){var t=e.target,s=t.name,a=t.value;if("title"===s&&a.length<=50)this.setState(Object(D.a)({},s,a));else if("street"===s&&a.length<=30)this.setState(Object(D.a)({},s,a));else if("description"===s&&a.length<=500)this.setState(Object(D.a)({},s,a));else if("zipcode"===s&&a.length<=5)this.setState(Object(D.a)({},s,a));else if("price"===s){var i=a.replaceAll(",","");this.setState(Object(D.a)({},s,i))}}},{key:"handleCreateClick",value:function(){var e,t,s=this,a=this.validateTitle(),i=this.validateStreet(),r=this.validateDescription(),n=this.validateZipcode(),o=this.validatePrice(),c=null===(e=this.state.change_city.current)||void 0===e?void 0:e.validate(),l=null===(t=this.state.change_category.current)||void 0===t?void 0:t.validate();if(!a||!i||!r||!n||!o||!c||!l)return!1;var d=this.state,u=d.title,h=d.street,b=d.description,j=d.zipcode,m=d.price,p=d.change_city,g=d.change_category,v=d.availableDays_chips,O=null===p||void 0===p?void 0:p.current.state.item,f=null===g||void 0===g?void 0:g.current.state.item,y=null===v||void 0===v?void 0:v.current.state.chipData,x=y.some((function(e){return 0===e.key})),w=y.some((function(e){return 1===e.key})),N=y.some((function(e){return 2===e.key})),_=y.some((function(e){return 3===e.key})),k=y.some((function(e){return 4===e.key})),C=y.some((function(e){return 5===e.key})),S=y.some((function(e){return 6===e.key}));fetch("/api/create_job",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")},body:JSON.stringify({user_id:localStorage.getItem("user_id"),title:u,street:h,description:b,zipcode:j,price:m,city:O,categories:f,d:!0===x?"1":"0",l:!0===w?"1":"0",m:!0===N?"1":"0",w:!0===_?"1":"0",j:!0===k?"1":"0",v:!0===C?"1":"0",s:!0===S?"1":"0"})}).then((function(e){201===e.status?s.setState({alertMssg:"The job has been created succesfully!!! \ud83d\udc4d\ud83c\udffc",severity:"success"}):s.setState({serverProcessedRequest:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.change_city,s=e.change_category,a=e.availableDays_chips,r=e.serverProcessedRequest,n=e.is_auth,o=e.titleError,c=e.descriptionError,l=e.streetError,d=e.zipcodeError,u=e.priceError,h=e.title,j=e.street,m=e.description,p=e.zipcode,g=e.is_client,O=e.alertMssg,f=e.severity;return Object(H.jsxs)(i.a.Fragment,{children:[!n&&Object(H.jsx)(b.a,{to:"/"}),g?Object(H.jsxs)(i.a.Fragment,{children:[void 0!==O&&void 0!==f&&Object(H.jsx)(b.a,{to:{pathname:"/myjobs/".concat(this.currentUser.id),state:{alertMssg:O,severity:f}}}),!r&&Object(H.jsx)(W.a,{severity:"error",className:"server-error",children:"Sorry can't create job right now \ud83d\ude14 please try again later!!!"}),Object(H.jsx)("h1",{className:"page-title-header white-title",children:" Job Creation "}),Object(H.jsxs)("div",{className:"big-flexbox-for-2-flexbox-containers-job-creation",children:[Object(H.jsxs)("div",{className:"left-body-container-1-job-creation",children:[Object(H.jsx)(K,{required:!0,cormorantlabel:!0,labelText:"Title",className:"input-title-job-creation",id:"title",name:"title",placeholder:"Title",value:h,onChange:this.handleChange,onBlur:this.validateTitle,error:void 0!==o,errorMsg:o}),Object(H.jsx)(K,{required:!0,multiline:!0,cormorantlabel:!0,rows:6,labelText:"Description",className:void 0!==c?"input-description-job-creation input-error":"input-description-job-creation",id:"description",name:"description",value:m,placeholder:"Description",onChange:this.handleChange,onBlur:this.validateDescription,error:void 0!==c,errorMsg:c})]}),Object(H.jsxs)("div",{className:"big-flexbox-for-3-flexbox-containers-job-creation",children:[Object(H.jsx)(K,{required:!0,cormorantlabel:!0,labelText:"Street",className:"input-street-job-creation",id:"street",name:"street",value:j,placeholder:"Street",onChange:this.handleChange,onBlur:this.validateStreet,error:void 0!==l,errorMsg:l}),Object(H.jsxs)("div",{className:"mini-flex-box-job-creation",children:[Object(H.jsx)(fe,{required:!0,cormorantlabel:!0,ref:t,validate:!0,itemsList:v,label:"City"}),Object(H.jsx)(K,{required:!0,cormorantlabel:!0,labelText:"Zipcode",className:"input-zipcode-job-creation",type:"text",id:"zipcode",name:"zipcode",value:p,placeholder:"Zipcode",onChange:this.handleChange,onBlur:this.validateZipcode,error:void 0!==d,errorMsg:d})]})]})]}),Object(H.jsxs)("div",{className:"big-flexbox-for-3-lower-flexbox-containers-job-creation",children:[Object(H.jsxs)("div",{className:"price-miniflex-job-creation",children:[Object(H.jsx)("label",{className:"label-job-creation",style:Mt,children:" Price* "}),Object(H.jsx)(Ft.a,{className:void 0!==u?"input-error":"without-error",currencySymbol:"$",outputFormat:"string",decimalCharacter:".",digitGroupSeparator:",",placeholder:"0.00",name:"price",onChange:this.handleChange,onBlur:this.validatePrice,InputProps:{disableUnderline:!0}}),void 0!==u&&Object(H.jsxs)("div",{className:"required-field-price-job-creation",children:[Object(H.jsx)(G.a,{style:Ut}),u]})]}),Object(H.jsx)(fe,{required:!0,cormorantlabel:!0,label:"Category",ref:s,validate:!0,itemsList:T}),Object(H.jsxs)("div",{children:[Object(H.jsxs)("label",{style:Mt,children:["Available days*",Object(H.jsx)("p",{className:"job-creation-available-days-disclaimer",children:"(Please make sure that at least one day is available for job completion)"})]}),Object(H.jsx)(qt,{ref:a})]})]}),Object(H.jsx)("div",{style:{textAlign:"center"},children:Object(H.jsx)("button",{className:"button-job-creation",onClick:this.handleCreateClick,children:Object(H.jsxs)("div",{className:"text-button-job-creation",children:["CREATE",Object(H.jsx)(Rt.a,{style:Dt})]})})})]}):Object(H.jsx)(Ct,{errorNumber:"403",errorType:"Forbidden/Access Not Allowed"})]})}},{key:"validateTitle",value:function(){return 0===this.state.title.length?(this.setState({titleError:"This field is required"}),!1):(this.setState({titleError:void 0}),!0)}},{key:"validateStreet",value:function(){return 0===this.state.street.length?(this.setState({streetError:"This field is required"}),!1):(this.setState({streetError:void 0}),!0)}},{key:"validateDescription",value:function(){return 0===this.state.description.length?(this.setState({descriptionError:"This field is required"}),!1):(this.setState({descriptionError:void 0}),!0)}},{key:"validateZipcode",value:function(){return 0===this.state.zipcode.length?(this.setState({zipcodeError:"This field is required"}),!1):!1===!isNaN(this.state.zipcode)||this.state.zipcode.length<5||this.state.zipcode.length>=6?(this.setState({zipcodeError:"zipcode format: #####"}),!1):R.test(this.state.zipcode)?(this.setState({zipcodeError:void 0}),!0):(this.setState({zipcodeError:"Zipcode is not from PR"}),!1)}},{key:"validatePrice",value:function(){return""===this.state.price?(this.setState({priceError:"This field is required"}),!1):(this.setState({priceError:void 0}),!0)}}]),s}(a.Component),Dt={paddingRight:10,height:20,position:"relative",top:"3px"},Ut={color:"red",position:"relative",top:"4px"},Mt={fontFamily:"Cormorant Garamond",fontStyle:"italic",fontWeight:"400",fontSize:"15px",color:"white",letterSpacing:"1px"},Jt=It,zt=s(63),Bt=s(427),Gt=s(302),Zt=s.n(Gt),Ht=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},i.scrollToBottom=function(){var e,t=i.state.messagesRef;void 0!==t.current&&(t.current.scrollTop=null===(e=t.current)||void 0===e?void 0:e.scrollHeight)},i.state={messagesRef:Object(a.createRef)()},i.addMessages=i.addMessages.bind(Object(m.a)(i)),i}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"addMessages",value:function(){var e=this;return this.props.messages.map((function(t,s){return Object(H.jsxs)("li",{className:"message ".concat(t.sender_id===e.currentUser.id?"right":"left"," appeared"),children:[t.sender_id!==e.currentUser.id&&Object(H.jsx)(h.b,{to:"profile/".concat(t.sender_id),children:Object(H.jsx)(Bt.a,{className:"avatar",alt:"".concat(t.sender_name," ").concat(t.sender_last),src:t.sender_image})}),Object(H.jsx)("div",{className:"text_wrapper",children:Object(H.jsx)("div",{className:"text",children:t.content})})]},"message-".concat(s))}))}},{key:"render",value:function(){var e=this.state.messagesRef;return Object(H.jsx)("ul",{className:"messages",ref:e,children:this.addMessages()})}}]),s}(a.Component),Qt=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),document.body.style.backgroundColor="#2F2D4A",(a=t.call(this,e)).queryParams=void 0,a.receiverId=void 0,a.job_title=void 0,a.currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},a.queryParams=N(e.queryParams),a.state={is_auth:!0,messages:[],current_message:"",refreshComplete:!0,allowAccess:!0,pageLoaded:!1,pageNotFound:null===a.queryParams.get("job_id")},a.handleKeyPress=a.handleKeyPress.bind(Object(m.a)(a)),a.onChange=a.onChange.bind(Object(m.a)(a)),a.addMessageBox=a.addMessageBox.bind(Object(m.a)(a)),a.getChatMessages=a.getChatMessages.bind(Object(m.a)(a)),a.verifyUserAccess=a.verifyUserAccess.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"getChatMessages",value:function(){var e=this;fetch("/api/retrieve_messages/".concat(this.queryParams.get("job_id"),"?user_id=").concat(this.currentUser.id),{method:"GET",headers:{"X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}}).then((function(t){200===t.status&&t.json().then((function(t){e.setState({messages:t,refreshComplete:!0})})),e.setState({pageLoaded:!0})}))}},{key:"verifyUserAccess",value:function(){var e=Object(J.a)(M.a.mark((function e(){var t,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/job_details/".concat(this.queryParams.get("job_id")),{method:"GET",headers:{"X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}});case 2:if(t=e.sent,s=void 0,200!==t.status){e.next=9;break}return e.next=7,t.json();case 7:s=e.sent,this.currentUser.id===s.owner_id||this.currentUser.id===s.student_id?(this.receiverId=this.currentUser.id===s.owner_id?s.student_id:s.owner_id,this.job_title=s.title):this.setState({allowAccess:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setState({is_auth:p(this.props.cookies.get("csrf_access_token"))}),this.verifyUserAccess().then(this.getChatMessages)}},{key:"addMessageBox",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=this.state,a=s.messages,i=s.current_message,r={content:i,sender_id:this.currentUser.id};i&&t&&fetch("/api/add_message",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")},body:JSON.stringify({job_id:this.queryParams.get("job_id"),sender_id:this.currentUser.id,receiver_id:this.receiverId,content:i})}).then((function(t){201===t.status&&e.setState({messages:[].concat(Object(zt.a)(a),[r]),current_message:""})}))}},{key:"onChange",value:function(e){this.setState({current_message:e.target.value})}},{key:"handleKeyPress",value:function(e){var t=!1;"Enter"===e.key&&(t=!0),this.addMessageBox(t)}},{key:"render",value:function(){var e=this,t=this.state,s=t.is_auth,a=t.messages,r=t.current_message,n=t.refreshComplete,o=t.allowAccess,c=t.pageLoaded,l=t.pageNotFound;return Object(H.jsx)(i.a.Fragment,{children:l?Object(H.jsx)(Ct,{errorNumber:"404",errorType:"Page Not Found"}):Object(H.jsxs)("div",{className:"parent-container",children:[!s&&Object(H.jsx)(b.a,{to:"/"}),o?Object(H.jsx)(i.a.Fragment,{children:c?Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsxs)("div",{className:"header-flex-container",children:[Object(H.jsx)("div",{className:"button-flex-container",children:Object(H.jsx)(h.b,{to:"/job/".concat(this.queryParams.get("job_id")),className:"custom-small-buttons",id:"view-job-button",children:"View Job"})}),Object(H.jsxs)("h1",{className:"page-title-header white-title",children:["Chat: ",this.job_title," "]})]}),Object(H.jsxs)("div",{className:"chat-flex-container",children:[Object(H.jsxs)("div",{className:"chat-window",children:[Object(H.jsx)(Ht,{messages:a}),Object(H.jsxs)("div",{className:"bottom_wrapper clearfix",children:[Object(H.jsx)("div",{className:"message_input_wrapper",children:Object(H.jsx)("input",{id:"msg_input",className:"message_input",placeholder:"Type your messages here...",value:r,onChange:this.onChange,onKeyPress:this.handleKeyPress})}),Object(H.jsx)("button",{className:"send_message",onClick:this.addMessageBox,children:"Send"})]})]}),Object(H.jsx)("div",{className:"refresh-message-container",children:n?Object(H.jsx)(Zt.a,{className:"refresh-msg-icon",onClick:function(){e.setState({refreshComplete:!1}),e.getChatMessages()}}):Object(H.jsx)("div",{children:Object(H.jsx)(Me.a,{style:{fill:"white"}})})})]})]}):Object(H.jsx)("div",{className:"loading-icon",children:Object(H.jsx)($.a,{sx:{display:"flex"},children:Object(H.jsx)(Me.a,{})})})}):Object(H.jsx)(Ct,{errorNumber:"403",errorType:"Forbidden/Access Not Allowed"})]})})}}]),s}(a.Component),Xt=s(99),Kt=s(97),Wt=s(306),Yt=s.n(Wt),Vt=s(303),$t=s.n(Vt),es=s(372),ts={overflow:"none",display:"flex",alignItems:"center",alignContent:"center",flexWrap:"wrap",height:"6vh",backgroundColor:"#2F2D4A",borderRadius:20,border:2,borderColor:"black","&:hover":{backgroundColor:"#2F2D8F",opacity:[.9,.8,.7]},justifyContent:"space-evenly",gap:"2vh",marginLeft:"52px",width:"80vh",fontFamily:"Jost",fontSize:"14px"},ss={backgroundColor:"#FFEBCC",fontFamily:"Jost",fontSize:"18px",fontWeight:"400",padding:"5px",border:"1px solid black",marginRight:"5px",cursor:"pointer"},as=function(e){var t=e.job_id,s=e.title,a=e.price,i=e.category,r=e.date_posted,n=e.status,o=e.onClickRate,c=e.deleteListing,l=e.owner_id,d=e.student_id,u="2"===n&&(l==localStorage.getItem("user_id")||d==localStorage.getItem("user_id")),b=("1"===n||"2"===e.status)&&(l==localStorage.getItem("user_id")||d==localStorage.getItem("user_id")||localStorage.getItem("type")==A);return Object(H.jsxs)($.a,{border:2,borderColor:"black",sx:ts,marginTop:5,children:[Object(H.jsx)(h.b,{to:"/job/"+t,id:"small-urls",children:Object(H.jsxs)("div",{children:[" ",s," "]})}),Object(H.jsx)(h.b,{to:"/job/"+t,id:"small-urls",children:Object(H.jsxs)("div",{children:[" ",a," "]})}),Object(H.jsx)(h.b,{to:"/job/"+t,id:"small-urls",children:Object(H.jsx)(lt.a,{label:i,style:ss})}),Object(H.jsx)(h.b,{to:"/job/"+t,id:"small-urls",children:Object(H.jsxs)("div",{children:[" ",r," "]})}),u&&Object(H.jsx)(es.a,{children:Object(H.jsx)($t.a,{sx:{color:Xt.a[100],fontSize:25},onClick:o})}),b&&Object(H.jsx)(es.a,{"aria-label":"delete",color:"error",children:Object(H.jsx)(Yt.a,{onClick:c,sx:{color:Kt.a[900],fontSize:25}})})]})},is=s(414),rs={display:"flex",flexDirection:"column",gap:"4vh",justifyContent:"center",left:"40%",top:"200px",width:"300px",height:"300px",backgroundColor:"#FFFFFF",border:"2px solid black"},ns=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={ratingRef:a.props.ratingRef},a.changeRating=a.changeRating.bind(Object(m.a)(a)),a.handleRate=a.handleRate.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"handleRate",value:function(){var e,t=this.props,s=t.filterJobs,a=t.setAlert,i=t.handleClose;(null===(e=this.state.ratingRef.current)||void 0===e?void 0:e.validate())&&fetch("/api/rate_job/"+this.props.job_id,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")},body:JSON.stringify({value:this.state.ratingRef.current.state.item,user_id:this.props.userToRate})}).then((function(e){201===e.status?(s(),a("Rate completed successfully!!")):a("Can't rate at this moment, please try again later","error"),i()}))}},{key:"changeRating",value:function(e){this.setState({rating:e})}},{key:"render",value:function(){var e=this.props,t=e.open,s=e.handleClose;return Object(H.jsx)("div",{children:Object(H.jsx)(V.a,{open:t,onClose:s,children:Object(H.jsxs)(is.a,{open:t,style:rs,children:[Object(H.jsx)("div",{className:"empty-list-subheader black",children:"Rate this Job:"}),Object(H.jsx)(fe,{blackLabel:!0,initial_value:"",ref:this.state.ratingRef,validate:!0,itemsList:L,label:"Rating"}),Object(H.jsx)("button",{className:"custom-small-buttons",onClick:this.handleRate,children:" Rate "})]})})})}}]),s}(a.Component),os=s.p+"static/media/JobCompletedBlue.60ec588d.svg",cs=s.p+"static/media/JobInProgressBlue.ea4074e9.svg",ls=s.p+"static/media/JobPostedBlue.ef555a1c.svg",ds=s.p+"static/media/JobRequestedBlue.edad66c3.svg",us=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var i;Object(c.a)(this,s),(i=t.call(this,e)).status=void 0,i.idFilter="",i.token=i.props.cookies.get("csrf_access_token"),i.deleteListing=function(e){var t,s=i.state.listings[e].job_id;if(i.state.userAccountType===C&&parseInt(i.status)===O)(t=function(e,t,s){return fetch("/api/cancel_request",{method:"PUT",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e},body:JSON.stringify({job_id:t,student_id:s})}).then((function(e){return 200===e.status}))}(i.token,s,i.state.user_id))?i.setAlert("Request has been cancelled successfully!!! \ud83d\udc4d\ud83c\udffc"):i.setAlert("Can't cancel request at this moment, try again later!","error");else{var a;if(3===i.state.userAccountType)t=g(i.token,s,w),a="deleted";else{var r=i.state.userAccountType===C?O:x;t=g(i.token,s,r),a="cancelled"}t?i.setAlert("Job ".concat(a," successfully")):i.setAlert("Can't ".concat(a," job at this moment, try again later!"),"error")}if(t){var n=Object.assign([],i.state.listings);n.splice(e,1),i.setState({listings:n,listIsEmpty:0===n.length})}},i.onClickRate=function(e){i.setState({currJob:i.state.listings[e].job_id,open:!0}),1===i.state.userAccountType?i.setState({userToRate:i.state.listings[e].owner_id}):i.setState({userToRate:i.state.listings[e].student_id})},i.handleClose=function(){i.setState({open:!1})};var r=N(i.props.queryParams);i.status=r.get("status");var n=parseInt(localStorage.getItem("type"));return i.state={is_auth:!0,entitiesLoaded:!1,listings:[],rating:1,ratingRef:Object(a.createRef)(),open:!1,monthRef:Object(a.createRef)(),yearRef:Object(a.createRef)(),userAccountType:null!==r.get("account")?parseInt(r.get("account")):n,user_id:e.user_id,titleText:"",currJob:"",userToRate:"",listIsEmpty:!1,deleteListing:!0,alert:{msg:void 0,severity:void 0}},i.setAlert=i.setAlert.bind(Object(m.a)(i)),i.hideAlert=i.hideAlert.bind(Object(m.a)(i)),i.fetchList=i.fetchList.bind(Object(m.a)(i)),i}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="#FFFFFF",this.setState({is_auth:p(this.props.cookies.get("csrf_access_token"))}),this.status=N(this.props.queryParams).get("status"),this.fetchList()}},{key:"fetchList",value:function(){var e,t,s,a,i,r,n=this,o=this.state,c=o.monthRef,l=o.yearRef,d="";void 0!==(null===(e=l.current)||void 0===e?void 0:e.state.item)&&""!==(null===(t=l.current)||void 0===t?void 0:t.state.item)&&"0"!==(null===(s=l.current)||void 0===s?void 0:s.state.item)&&(d+="&year="+(parseInt(l.current.state.item,10)+2020)),void 0!==(null===(a=c.current)||void 0===a?void 0:a.state.item)&&""!==(null===(i=c.current)||void 0===i?void 0:i.state.item)&&"0"!==(null===(r=c.current)||void 0===r?void 0:r.state.item)&&(d+="&month="+c.current.state.item),1===this.state.userAccountType?this.idFilter="?student_id="+this.state.user_id:this.idFilter="?owner_id="+this.state.user_id,"1"===this.status&&1===this.state.userAccountType?fetch("/api/student_requests/"+this.state.user_id+this.idFilter+d,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}}).then((function(e){200===e.status?e.json().then((function(e){n.setState({listIsEmpty:!1,listings:e,entitiesLoaded:!0})})):404===e.status&&n.setState({listIsEmpty:!0,entitiesLoaded:!0})})):fetch("/api/jobs_list/"+this.status+this.idFilter+d,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}}).then((function(e){200===e.status?e.json().then((function(e){n.setState({listIsEmpty:!1,listings:e,entitiesLoaded:!0})})):404===e.status&&n.setState({listIsEmpty:!0,entitiesLoaded:!0})}))}},{key:"setAlert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.setState({alert:{msg:e,severity:t}})}},{key:"hideAlert",value:function(){var e=this;setTimeout((function(){e.setState({alert:{msg:void 0}})}),3e3)}},{key:"render",value:function(){var e=this,t=this.state,s=t.alert,a=t.user_id,r=t.is_auth,n=t.userAccountType,o=a==localStorage.getItem("user_id")||localStorage.getItem("type")==A;return Object(H.jsxs)("div",{children:[!r&&Object(H.jsx)(b.a,{to:"/"}),o?Object(H.jsxs)(i.a.Fragment,{children:[void 0!==s.msg&&Object(H.jsx)(W.a,{onLoad:this.hideAlert(),severity:s.severity,className:"server-error",children:s.msg}),Object(H.jsx)(ns,{open:this.state.open,handleClose:this.handleClose.bind(this),job_id:this.state.currJob,userToRate:this.state.userToRate,filterJobs:this.fetchList,ratingRef:this.state.ratingRef,cookies:this.props.cookies,setAlert:this.setAlert}),1===n&&"1"===this.status&&Object(H.jsx)("div",{className:"page-title-header black-title left-position-title",children:" Jobs Requested "}),2===n&&"1"===this.status&&Object(H.jsx)("div",{className:"page-title-header black-title left-position-title",children:" Jobs Posted "}),"2"===this.status&&Object(H.jsx)("div",{className:"page-title-header black-title left-position-title",children:" Jobs In-Progress "}),"3"===this.status&&Object(H.jsx)("div",{className:"page-title-header black-title left-position-title",children:" Jobs Completed "}),Object(H.jsxs)("div",{className:"main-listing-flex",children:[Object(H.jsxs)("div",{className:"left-items-listings",children:[Object(H.jsxs)("div",{className:"filters-flex-listings",children:[Object(H.jsx)(fe,{blackLabel:!0,ref:this.state.yearRef,validate:!1,itemsList:P,label:"Year"}),Object(H.jsx)(fe,{blackLabel:!0,ref:this.state.monthRef,validate:!1,itemsList:F,label:"Month"}),Object(H.jsx)("button",{className:"filter-button",style:{width:"15vh"},onClick:function(){e.setState({entitiesLoaded:!1}),e.fetchList()},children:Object(H.jsxs)("div",{className:"text-filter-button",children:[Object(H.jsx)(Qe.a,{}),"Filter"]})})]}),1===this.state.userAccountType&&"1"===this.status&&Object(H.jsx)("img",{id:"picture-style",src:ds,alt:"jobrequested"}),2===this.state.userAccountType&&"1"===this.status&&Object(H.jsx)("img",{id:"picture-style",src:ls,alt:"jobposted"}),"2"===this.status&&Object(H.jsx)("img",{id:"picture-style",src:cs,alt:"jobinprogress"}),"3"===this.status&&Object(H.jsx)("img",{id:"picture-style",src:os,alt:"jobcompleted"})]}),this.state.entitiesLoaded?Object(H.jsx)("div",{children:this.state.listIsEmpty?Object(H.jsx)("h2",{className:"empty-list-subheader black",style:{marginLeft:"52px",marginTop:"46px"},children:" No jobs available "}):Object(H.jsx)("div",{children:this.state.listings.map((function(t,s){var a=s;return Object(H.jsx)(as,{owner_id:t.owner_id,student_id:t.student_id,price:t.price,date_posted:t.date_posted,title:t.title,category:t.categories,job_id:t.job_id,status:e.status,deleteListing:e.deleteListing.bind(e,a),onClickRate:e.onClickRate.bind(e,a)},t.id)}))})}):Object(H.jsx)("div",{className:"loading-icon",style:{marginLeft:"20vw"},children:Object(H.jsx)($.a,{sx:{display:"flex"},children:Object(H.jsx)(Me.a,{})})})]})]}):Object(H.jsx)(Ct,{errorNumber:"403",errorType:"Forbidden/Access Not Allowed"})]})}}]),s}(a.Component),hs=s(418),bs={left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"26vw",height:"75vh",position:"absolute",display:"flex",flexFlow:"column",padding:"20px",backgroundColor:"#FFFFFF"},js=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).change=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a.handleClose=function(){a.setState({open:!1,passwordError:void 0,confirmPasswordError:void 0,password:"",confirmPassword:""})},a.onSubmit=function(e){e.preventDefault(),a.validateAnswerOne()||a.validateAnswerTwo()||a.setState({open:!0,correctAnswers:!0})},a.onSubmitEmail=function(e){e.preventDefault(),a.validateEmail()||fetch("/api/change_password?email="+encodeURIComponent(a.state.email)).then((function(e){200===e.status?e.json().then((function(e){a.setState({emailIsValid:!0,questionOne:e.question_1,questionTwo:e.question_2,questionOneAnswer:e.answer_1,questionTwoAnswer:e.answer_2})})):404===e.status?a.setState({alert:{msg:"The email provided does not exist on our record",severity:"error"}}):a.setState({alert:{msg:"An error has occurred \ud83d\ude14, Please try again later! ",severity:"error"}})}))},a.onSubmitPassword=function(e){e.preventDefault();var t=a.validatePassword();if(t)return!1;var s=a.validateFirstPassword(),i=a.validateConfirmPassword();return!s&&(!i&&void(t||fetch("/api/change_password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a.state.password,email:a.state.email})}).then((function(e){200===e.status?a.setState({changeSuccess:!0,psswordChangedSuccesfully:!0}):500===e.status&&a.setState({serverDown:!0})}))))},a.validateAnswerOne=function(){return""===a.state.answerOne?(a.setState({answerOneError:"This field is required"}),!0):a.state.answerOne!==a.state.questionOneAnswer?(a.setState({answerOneError:"Incorrect answer"}),!0):(a.setState({answerOneError:void 0}),!1)},a.validateAnswerTwo=function(){return""===a.state.answerTwo?(a.setState({answerTwoError:"This field is required"}),!0):a.state.answerTwo!==a.state.questionTwoAnswer?(a.setState({answerTwoError:"Incorrect answer"}),!0):(a.setState({answerTwoError:void 0}),!1)},a.validateEmail=function(){if(void 0!==a.state.email&&!new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(a.state.email))return a.setState({emailError:"Please enter valid email address."}),!0;return a.setState({emailError:void 0}),!1},a.validateFirstPassword=function(){return 0===a.state.password.length?(a.setState({passwordError:"This Field is required"}),!0):(a.setState({passwordError:void 0}),!1)},a.validateConfirmPassword=function(){return 0===a.state.confirmPassword.length?(a.setState({confirmPasswordError:"This Field is required"}),!0):(a.validatePassword(),!0!==a.validatePassword()?(a.setState({confirmPasswordError:void 0}),!1):void 0)},a.validatePassword=function(){return a.state.password!==a.state.confirmPassword?(a.setState({passwordError:"Passwords do not match",confirmPasswordError:"Passwords do not match"}),!0):(a.setState({passwordError:void 0,confirmPasswordError:void 0}),!1)},a.state={email:"",emailError:void 0,questionOne:"",questionTwo:"",answerOne:"",answerOneError:void 0,answerTwo:"",answerTwoError:void 0,emailIsValid:!1,open:!1,password:"",passwordError:void 0,confirmPassword:"",confirmPasswordError:void 0,correctAnswers:!1,changeSuccess:!1,questionOneAnswer:void 0,questionTwoAnswer:void 0,psswordChangedSuccesfully:!1,serverDown:!1,alert:{msg:void 0,severity:void 0}},a.hideAlert=a.hideAlert.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="#2F2D4A"}},{key:"hideAlert",value:function(){var e=this;setTimeout((function(){e.setState({alert:{msg:void 0,severity:void 0}})}),3e3)}},{key:"render",value:function(){var e=this,t=this.state,s=t.email,a=t.open,i=t.password,r=t.confirmPassword,n=t.changeSuccess,o=t.psswordChangedSuccesfully,c=t.serverDown,l=t.alert;return Object(H.jsxs)("div",{children:[void 0!==l.msg&&Object(H.jsx)(hs.a,{sx:{width:"100%"},spacing:2,children:Object(H.jsx)(W.a,{onLoad:this.hideAlert(),severity:l.severity,className:"server-error",children:l.msg})}),Object(H.jsx)("div",{className:"header-flex-container",children:Object(H.jsx)("h1",{className:"page-title-header white-title",children:"Account Recovery"})}),Object(H.jsx)("h2",{className:"empty-list-subheader white",style:{marginBottom:"15px",textAlign:"center"},children:"Security Questions:"}),Object(H.jsxs)("div",{className:"security-body-flex-container",children:[Object(H.jsx)(K,{required:!0,disabled:this.state.emailIsValid,error:void 0!==this.state.emailError,labelText:"Email",name:"email",value:s,onChange:function(t){return e.change(t)},onBlur:this.validateEmail,errorMsg:this.state.emailError,className:"security-page-input"}),this.state.emailIsValid?Object(H.jsxs)("div",{className:"security-questions-input",children:[Object(H.jsx)(K,{required:!0,disabled:this.state.correctAnswers,error:void 0!==this.state.answerOneError,labelText:k[this.state.questionOne-1],errorMsg:this.state.answerOneError,type:"text",name:"answerOne",placeholder:"Answer",onChange:function(t){return e.change(t)},onBlur:this.validateAnswerOne,className:"security-page-input"}),Object(H.jsx)(K,{required:!0,disabled:this.state.correctAnswers,error:void 0!==this.state.answerTwoError,labelText:k[this.state.questionTwo-1],errorMsg:this.state.answerTwoError,type:"text",name:"answerTwo",placeholder:"Answer",onChange:function(t){return e.change(t)},onBlur:this.validateAnswerTwo,className:"security-page-input"}),Object(H.jsx)("button",{className:"custom-small-buttons security-page-button",id:"security-submit-button",onClick:function(t){return e.onSubmit(t)},children:"Submit"})]}):Object(H.jsx)("button",{className:"custom-small-buttons security-page-button",onClick:function(t){return e.onSubmitEmail(t)},children:"Verify Email"})]}),Object(H.jsx)("div",{children:Object(H.jsx)(V.a,{open:a,onClose:this.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(H.jsxs)(is.a,{open:a,style:bs,children:[Object(H.jsx)("div",{children:Object(H.jsxs)("h2",{className:"modalTextStyle",children:[c&&Object(H.jsx)(W.a,{severity:"error",children:"Sorry can't reset password right now \ud83d\ude14 please try again later!!!"}),"Enter your new password: "]})}),Object(H.jsx)("div",{children:Object(H.jsx)("img",{alt:"Logo",src:te,className:"modalLogoStyle"})}),Object(H.jsxs)("div",{className:"security-modal-container",children:[Object(H.jsx)(K,{required:!0,blackLabel:!0,error:void 0!==this.state.passwordError,labelText:"Password",type:"password",name:"password",value:i,onChange:function(t){return e.change(t)},onBlur:this.validateFirstPassword,errorMsg:this.state.passwordError,className:"security-page-input black-label-input"}),Object(H.jsx)(K,{required:!0,blackLabel:!0,error:void 0!==this.state.confirmPasswordError,labelText:"Confirm Password",type:"password",name:"confirmPassword",value:r,onChange:function(t){return e.change(t)},onBlur:this.validateConfirmPassword,errorMsg:this.state.confirmPasswordError,className:"security-page-input"}),n&&Object(H.jsx)(hs.a,{sx:{width:"100%"},spacing:2,children:Object(H.jsx)(b.a,{to:{pathname:"/",state:{psswordChangedSuccesfully:o}}})}),Object(H.jsx)("button",{className:"custom-small-buttons security-page-button",id:"security-change-pswd-button",onClick:function(t){return e.onSubmitPassword(t)},children:"Change Password"})]})]})})})]})}}]),s}(a.Component),ms=s(426),ps=s(430),gs=s(428),vs=s(419),Os=s(429),fs=s(422),ys=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).queryParams=void 0,a.currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},a.queryParams=N(a.props.queryParams),a.state={is_auth:!0,is_student:a.currentUser.type===C,requestsList:[],requestLoaded:!1,showAgreement:!1,pageNotFound:null===a.queryParams.get("job_id"),allowAccess:!0},a.getJobRequests=a.getJobRequests.bind(Object(m.a)(a)),a.renderCards=a.renderCards.bind(Object(m.a)(a)),a.onClickAccept=a.onClickAccept.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.setState({is_auth:p(this.props.cookies.get("csrf_access_token"))}),this.getJobRequests()}},{key:"getJobRequests",value:function(){var e=this;fetch("/api/job_requests/".concat(this.queryParams.get("job_id"),"?state=1"),{method:"GET",headers:{"X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}}).then((function(t){200===t.status&&t.json().then((function(t){e.setState({requestsList:t.requests,allowAccess:e.currentUser.id===t.owner_id})})),e.setState({requestLoaded:!0})}))}},{key:"onClickAccept",value:function(){var e=this.state.showAgreement;this.setState({showAgreement:!e})}},{key:"renderCards",value:function(){var e=this,t=this.state,s=t.requestsList,a=t.showAgreement,i=this.props.cookies.get("csrf_access_token");return s.map((function(t){return Object(H.jsxs)(fs.a,{sx:{width:300},className:"student-request-cards",children:[Object(H.jsxs)(h.b,{to:"/profile/".concat(t.user_id),className:"student-request-card-content",children:[Object(H.jsx)("div",{className:"request-image-container",children:Object(H.jsx)(ms.a,{className:"avatar",alt:"".concat(t.first_name," ").concat(t.last_name),src:null===t.image?ye:t.image,sx:{width:200,height:200}})}),Object(H.jsx)(gs.a,{children:Object(H.jsx)(Os.a,{gutterBottom:!0,variant:"h5",component:"div",color:"#1976d2",children:"".concat(t.first_name," ").concat(t.last_name)})})]}),Object(H.jsxs)(ps.a,{className:"request-card-actions-container",children:[Object(H.jsx)(vs.a,{size:"small",onClick:e.onClickAccept,children:"Accept"}),a&&Object(H.jsx)(ct,{isOpen:a,toggle:e.onClickAccept,job_id:e.queryParams.get("job_id"),student_id:t.user_id,cookies:i})]})]})}))}},{key:"render",value:function(){var e=this.state,t=e.is_auth,s=e.requestsList,a=e.requestLoaded,r=e.is_student,n=e.pageNotFound,o=e.allowAccess;return Object(H.jsx)(i.a.Fragment,{children:n?Object(H.jsx)(Ct,{errorNumber:"404",errorType:"Page Not Found"}):Object(H.jsxs)("div",{children:[!t&&Object(H.jsx)(b.a,{to:"/"}),r||!o?Object(H.jsx)(Ct,{errorNumber:"403",errorType:"Forbidden/Access Not Allowed"}):Object(H.jsx)(i.a.Fragment,{children:a?Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{className:"header-flex-container",children:Object(H.jsx)("h1",{className:"page-title-header white-title",children:"Student's Requests"})}),Object(H.jsx)("div",{className:"student-requests-flex-container",children:0===s.length?Object(H.jsx)("h2",{className:"empty-list-subheader white",children:"No requests available"}):this.renderCards()})]}):Object(H.jsx)("div",{className:"loading-icon",children:Object(H.jsx)($.a,{sx:{display:"flex"},children:Object(H.jsx)(Me.a,{})})})})]})})}}]),s}(a.Component),xs=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},i.entity={users:1,jobs:2},i.state={entitiesLoaded:!1,entities:[],typeRef:Object(a.createRef)(),deletedRef:Object(a.createRef)(),jobStatusRef:Object(a.createRef)(),jobCategoryRef:Object(a.createRef)(),currentEntity:i.entity.users,is_auth:!0,is_admin:i.currentUser.type===A,alert:{msg:void 0,severity:void 0}},i.renderUsers=i.renderUsers.bind(Object(m.a)(i)),i.renderJobs=i.renderJobs.bind(Object(m.a)(i)),i.getAllUsers=i.getAllUsers.bind(Object(m.a)(i)),i.getAllJobs=i.getAllJobs.bind(Object(m.a)(i)),i.clearFilters=i.clearFilters.bind(Object(m.a)(i)),i.hideAlert=i.hideAlert.bind(Object(m.a)(i)),i}return Object(l.a)(s,[{key:"getAllUsers",value:function(){var e,t,s,a,i=this,r=this.state,n=r.deletedRef,o=r.typeRef,c={},l="";void 0!==(null===(e=o.current)||void 0===e?void 0:e.state.item)&&""!==(null===(t=o.current)||void 0===t?void 0:t.state.item)&&(c.account_type=null===(a=o.current)||void 0===a?void 0:a.state.item);"2"===(null===(s=n.current)||void 0===s?void 0:s.state.item)&&(c.deleted="true"),Object.keys(c).length>0&&(l="?".concat(N(c))),fetch("/api/users/".concat(l),{method:"GET",credentials:"same-origin",headers:{"X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}}).then((function(e){200===e.status?e.json().then((function(e){i.setState({entities:e,entitiesLoaded:!0})})):404===e.status?i.setState({entities:[],entitiesLoaded:!0}):alert("Sorry an error has occurred. Try again later")}))}},{key:"getAllJobs",value:function(){var e,t,s,a,i,r=this,n=this.state,o=n.jobStatusRef,c=n.jobCategoryRef,l=void 0!==(null===(e=o.current)||void 0===e?void 0:e.state.item)?null===(t=o.current)||void 0===t?void 0:t.state.item:1,d={},u="";void 0!==(null===(s=c.current)||void 0===s?void 0:s.state.item)&&""!==(null===(a=c.current)||void 0===a?void 0:a.state.item)&&(d.category=null===(i=c.current)||void 0===i?void 0:i.state.item);Object.keys(d).length>0&&(u="?".concat(new URLSearchParams(d))),fetch("/api/jobs_list/".concat(l+u),{method:"GET",credentials:"same-origin",headers:{"X-CSRF-TOKEN":this.props.cookies.get("csrf_access_token")}}).then((function(e){200===e.status?e.json().then((function(e){r.setState({entities:e,entitiesLoaded:!0})})):404===e.status?r.setState({entities:[],entitiesLoaded:!0}):alert("Sorry an error has occurred. Try again later")}))}},{key:"clearFilters",value:function(){var e,t,s,a,i=this.state,r=i.deletedRef,n=i.typeRef,o=i.jobStatusRef,c=i.jobCategoryRef;null===(e=r.current)||void 0===e||e.reset(),null===(t=n.current)||void 0===t||t.reset(),null===(s=o.current)||void 0===s||s.reset(),null===(a=c.current)||void 0===a||a.reset()}},{key:"componentDidMount",value:function(){var e,t;(document.body.style.backgroundColor="#2F2D4A",this.setState({is_auth:p(this.props.cookies.get("csrf_access_token"))}),this.getAllUsers(),"POP"===this.props.history.action)?this.setState({alert:{msg:void 0}}):this.setState({alert:{msg:null===(e=this.props.location.state)||void 0===e?void 0:e.alertMssg,severity:null===(t=this.props.location.state)||void 0===t?void 0:t.severity}})}},{key:"renderUsers",value:function(){return this.state.entities.map((function(e,t){return Object(H.jsxs)("tr",{className:"admin-row-table",children:[Object(H.jsx)("td",{className:"admin-col-table admin-number-col",children:t+1}),Object(H.jsx)("td",{className:"admin-col-table",children:Object(H.jsxs)(h.b,{to:"/profile/".concat(e.user_id),id:"small-urls",className:"admin-table-row-link",children:[e.first_name," ",e.last_name]})}),Object(H.jsxs)("td",{className:"admin-col-table",children:[e.email," "]}),Object(H.jsxs)("td",{className:"admin-col-table",children:[I[e.type]," "]})]},"user-".concat(e.user_id))}))}},{key:"renderJobs",value:function(){return this.state.entities.map((function(e,t){return Object(H.jsxs)("tr",{className:"admin-row-table",children:[Object(H.jsx)("td",{className:"admin-col-table admin-number-col",children:t+1}),Object(H.jsx)("td",{className:"admin-col-table",children:Object(H.jsx)(h.b,{to:"/job/".concat(e.job_id),className:"admin-table-row-link",children:e.title})}),Object(H.jsx)("td",{className:"admin-col-table",children:"".concat(e.owner_first," ").concat(e.owner_last)}),Object(H.jsxs)("td",{className:"admin-col-table",children:[e.date_posted," "]}),Object(H.jsxs)("td",{className:"admin-col-table",children:[e.categories," "]})]},"job-".concat(e.job_id))}))}},{key:"hideAlert",value:function(){var e=this;setTimeout((function(){e.setState({alert:{msg:void 0}})}),3e3)}},{key:"render",value:function(){var e=this,t=this.state,s=t.is_auth,a=t.deletedRef,r=t.typeRef,n=t.entitiesLoaded,o=t.currentEntity,c=t.jobStatusRef,l=t.jobCategoryRef,d=t.is_admin,u=t.alert;return Object(H.jsxs)("div",{children:[!s&&Object(H.jsx)(b.a,{to:"/"}),d?Object(H.jsxs)(i.a.Fragment,{children:[void 0!==u.msg&&Object(H.jsx)(W.a,{onLoad:this.hideAlert(),severity:u.severity,className:"server-error",children:u.msg}),Object(H.jsxs)("h1",{className:"page-title-header white-title",children:["Administration Site: ",o===this.entity.users?"Users":"Jobs"]}),Object(H.jsxs)("div",{className:"administration-body-container",children:[Object(H.jsxs)("div",{className:"list-categories-container",children:[Object(H.jsx)("h2",{className:"admin-entities-header",children:"Entities"}),Object(H.jsxs)("div",{className:"admin-entities-container",children:[Object(H.jsx)("ul",{className:"list-categories-text",onClick:function(){e.setState({currentEntity:e.entity.users,entitiesLoaded:!1}),e.clearFilters(),e.getAllUsers()},children:"Users"}),Object(H.jsx)("ul",{className:"list-categories-text",onClick:function(){e.setState({currentEntity:e.entity.jobs,entitiesLoaded:!1}),e.clearFilters(),e.getAllJobs()},children:"Jobs"})]}),Object(H.jsx)("h2",{className:"admin-entities-header",children:"Filters"}),Object(H.jsxs)("div",{className:"administration-filter-container",children:[o===this.entity.users?Object(H.jsxs)("div",{className:"administration-filter-dropdowns",children:[Object(H.jsx)(fe,{removeDefault:!0,blackLabel:!0,id:"admin-user-type-dropdown",label:"Account Type",ref:r,itemsList:Object.values(I)}),Object(H.jsx)(fe,{removeDefault:!0,blackLabel:!0,id:"admin-user-deleted-dropdown",initial_value:"1",label:"Status",ref:a,itemsList:["Active","Deleted"]})]}):Object(H.jsxs)("div",{className:"administration-filter-dropdowns",children:[Object(H.jsx)(fe,{removeDefault:!0,blackLabel:!0,id:"admin-job-categories-dropdown",label:"Category",ref:l,itemsList:T}),Object(H.jsx)(fe,{removeDefault:!0,blackLabel:!0,id:"admin-job-status-dropdown",label:"Status",initial_value:"1",ref:c,itemsList:_})]}),Object(H.jsxs)("div",{className:"admin-filter-button-container",children:[Object(H.jsx)("button",{className:"custom-small-buttons filter admin-filter-button",onClick:function(){e.setState({entitiesLoaded:!1}),o===e.entity.users?e.getAllUsers():e.getAllJobs()},children:"Filter"}),Object(H.jsx)("button",{className:"custom-small-buttons filter admin-filter-button",onClick:this.clearFilters,children:"Clear Filters"})]})]})]}),Object(H.jsx)("div",{className:"administration-table-container",children:n?Object(H.jsxs)("table",{className:"admin-table-content",children:[Object(H.jsx)("thead",{children:o===this.entity.users?Object(H.jsxs)("tr",{className:"admin-row-table",id:"header-row-table",children:[Object(H.jsx)("th",{className:"admin-col-table header-col-table admin-number-col"}),Object(H.jsx)("th",{className:"admin-col-table header-col-table",children:"Name"}),Object(H.jsx)("th",{className:"admin-col-table header-col-table",children:"Email"}),Object(H.jsx)("th",{className:"admin-col-table header-col-table",children:"Account Type"})]}):Object(H.jsxs)("tr",{className:"admin-row-table",id:"header-row-table",children:[Object(H.jsx)("th",{className:"admin-col-table header-col-table admin-number-col"}),Object(H.jsx)("th",{className:"admin-col-table header-col-table",children:"Title"}),Object(H.jsx)("th",{className:"admin-col-table header-col-table",children:"Owner"}),Object(H.jsx)("th",{className:"admin-col-table header-col-table",children:"Date Posted"}),Object(H.jsx)("th",{className:"admin-col-table header-col-table",children:"Category"})]})}),Object(H.jsx)("tbody",{children:o===this.entity.users?this.renderUsers():this.renderJobs()})]}):Object(H.jsx)("div",{className:"loading-icon",children:Object(H.jsx)($.a,{sx:{display:"flex"},children:Object(H.jsx)(Me.a,{})})})})]})]}):Object(H.jsx)(Ct,{errorNumber:"403",errorType:"Forbidden/Access Not Allowed"})]})}}]),s}(a.Component),ws=s.p+"static/media/JobPosted.a1f392cb.svg",Ns=s.p+"static/media/JobRequest.fd99ca50.svg",_s=s.p+"static/media/JobIn-Progress.2b20fc4d.svg",ks=s.p+"static/media/JobCompleted.6606978e.svg",Cs=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).queryParams="",a.queryParams={status:e.status},void 0!==e.account&&(a.queryParams.account=e.account),a.queryParams="?".concat(N(a.queryParams)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="#FFFFFF"}},{key:"render",value:function(){var e=this.props,t=e.title,s=e.imgtype,a=e.user_id;return Object(H.jsx)("div",{className:"myjobs-card",children:Object(H.jsx)(h.b,{to:"/listings/".concat(a+this.queryParams),className:"none-display-for-link",children:Object(H.jsxs)("div",{className:"myjobs-body-container",children:["1"===s&&Object(H.jsx)("img",{id:"grow-myjobs",src:ws,alt:"postedjobs"}),"2"===s&&Object(H.jsx)("img",{id:"grow-myjobs",src:Ns,alt:"requestedjobs"}),"3"===s&&Object(H.jsx)("img",{id:"grow1-myjobs",src:_s,alt:"in-progressjobs"}),"4"===s&&Object(H.jsx)("img",{id:"grow2-myjobs",src:ks,alt:"completedjobs"}),Object(H.jsx)("div",{className:"bottom-card-styling-myjobs",children:Object(H.jsx)("div",{className:"bottom-square-myjobs",children:t})})]})})})}}]),s}(a.Component),Ss=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).currentUser={id:parseInt(localStorage.getItem("user_id")),type:parseInt(localStorage.getItem("type"))},a.queryParams=void 0,a.queryParams=N(e.queryParams),a.state={is_auth:!0,requestSuccessful:!1,creationSuccessful:!1,studentIsChoosen:!1,alertMssg:void 0,severity:void 0},a.hideAlert=a.hideAlert.bind(Object(m.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e,t;(document.body.style.backgroundColor="#FFFFFF",this.setState({is_auth:p(this.props.cookies.get("csrf_access_token"))}),"POP"===this.props.history.action)?this.setState({alertMssg:void 0,severity:void 0}):this.setState({alertMssg:null===(e=this.props.location.state)||void 0===e?void 0:e.alertMssg,severity:null===(t=this.props.location.state)||void 0===t?void 0:t.severity})}},{key:"hideAlert",value:function(){var e=this;setTimeout((function(){e.setState({alertMssg:void 0,severity:void 0})}),3e3)}},{key:"render",value:function(){var e=this.currentUser.type===S,t=this.currentUser.type===C,s=this.currentUser.type===A,a=this.state,r=a.alertMssg,n=a.severity,o=a.is_auth,c=this.props.user_id;return Object(H.jsxs)("div",{children:[!o&&Object(H.jsx)(b.a,{to:"/"}),s&&null===this.queryParams.get("account")?Object(H.jsx)(Ct,{errorNumber:"400",errorType:"Bad request",inside:!0}):c==this.currentUser.id||s?Object(H.jsxs)(i.a.Fragment,{children:[void 0!==r&&void 0!==n&&Object(H.jsx)(W.a,{onLoad:this.hideAlert(),severity:n,className:"server-error",children:r}),Object(H.jsx)("div",{className:"myjobs-card-general-style",children:Object(H.jsxs)("div",{className:"myjobs-card-container",children:[(e||s&&Number(this.queryParams.get("account"))===S)&&Object(H.jsx)(Cs,{title:"Posted Jobs",imgtype:"1",status:O,account:null===this.queryParams.get("account")?void 0:this.queryParams.get("account"),user_id:c}),(t||s&&Number(this.queryParams.get("account"))===C)&&Object(H.jsx)(Cs,{title:"Requested Jobs",imgtype:"2",status:O,account:null===this.queryParams.get("account")?void 0:this.queryParams.get("account"),user_id:c}),Object(H.jsx)(Cs,{title:"In-progress Jobs",imgtype:"3",status:f,account:null===this.queryParams.get("account")?void 0:this.queryParams.get("account"),user_id:c}),Object(H.jsx)(Cs,{title:"Completed Jobs",imgtype:"4",status:y,account:null===this.queryParams.get("account")?void 0:this.queryParams.get("account"),user_id:c})]})})]}):Object(H.jsx)(Ct,{errorNumber:"403",errorType:"Forbidden/Access Not Allowed"})]})}}]),s}(a.Component),As=(s(335),s(336),s(337),s(338),s(339),s(340),s(341),s(342),s(343),s(344),s(345),s(346),s(347),s(348),s(349),s(350),s(351),s(352),s(353),s(354),s(355),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(H.jsx)(h.a,{children:Object(H.jsxs)(b.d,{children:[Object(H.jsx)(b.b,{exact:!0,path:"/",render:function(t){return Object(H.jsx)(i.a.Fragment,{children:Object(H.jsx)(me,Object(o.a)(Object(o.a)({},t),{},{cookies:e.props.cookies}))})}}),Object(H.jsx)(b.b,{exact:!0,path:"/profile/:user_id",render:function(t){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(Be,{cookies:e.props.cookies,user_id:t.match.params.user_id})]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/jobdashboard",render:function(){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(We,{cookies:e.props.cookies})]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/listings/:user_id",render:function(t){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(us,Object(o.a)(Object(o.a)({},t),{},{cookies:e.props.cookies,user_id:t.match.params.user_id,queryParams:t.location.search}))]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/security-questions",render:function(){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(js,{})]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/myjobs/:user_id",render:function(t){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(Ss,Object(o.a)(Object(o.a)({},t),{},{cookies:e.props.cookies,user_id:t.match.params.user_id,queryParams:t.location.search}))]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/signup",render:function(){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(wt,{})]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/chat",render:function(t){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(Qt,{cookies:e.props.cookies,queryParams:t.location.search})]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/job/:job_id",render:function(t){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(ht,{cookies:e.props.cookies,job_id:t.match.params.job_id})]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/jobcreation",render:function(){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(Jt,{cookies:e.props.cookies})]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/job_requests",render:function(t){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(ys,{cookies:e.props.cookies,queryParams:t.location.search})]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/admin/site",render:function(t){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(xs,Object(o.a)({cookies:e.props.cookies},t))]})}}),Object(H.jsx)(b.b,{exact:!0,path:"/admin",render:function(){return Object(H.jsx)(i.a.Fragment,{children:Object(H.jsx)(ne,{isOpen:!0,toggle:function(){},adminLogin:!0})})}}),Object(H.jsx)(b.b,{exact:!0,path:"*",render:function(){return Object(H.jsxs)(i.a.Fragment,{children:[Object(H.jsx)(tt,{cookies:e.props.cookies}),Object(H.jsx)(Ct,{errorNumber:"404",errorType:"Page Not Found"})]})}})]})})}}]),s}(i.a.Component)),Es=Object(j.a)(As),Ts=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,433)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,n=t.getTTFB;s(e),a(e),i(e),r(e),n(e)}))};n.a.render(Object(H.jsx)(i.a.StrictMode,{children:Object(H.jsx)(Es,{})}),document.getElementById("root")),Ts()}},[[356,1,2]]]);
//# sourceMappingURL=main.84b36629.chunk.js.map